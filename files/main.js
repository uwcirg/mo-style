function displayGalaPartyInfo(a){$("#galaparte-details").hide(),$.getJSON(baseUrl+"register/get-galaparte/id/"+a.value,function(a){a.id&&($("#galaparte-details").css("display","block"),$("#galaparte-name").html(a.location),$("#galaparte-venue").html(a.venue),$("#galaparte-date").html(a.party_date),$("#galaparte-start").html(a.start_time),$("#galaparte-finish").html(a.end_time),$("#galaparte-address").html(a.address))})}function loadCountryView(a,b,c,d,e,f){var g=a+b+"/search_country/"+c.value;$("#physical_country_drop").length&&(g+="/search_physical_country/"+$("#physical_country_drop").val()),d&&(g+="/size/"+d),e&&(g+="/top/"+e),f&&(g+="/layout/"+f),window.location=g}function updateSplitValue(a,b,c){if($(a).length>0){var d=$(c).val();$P.is_numeric(d)&&$(a).find("u").text($P.number_format(d/b,2))}}function toggleCertificateForm(){"no"==$("#form_element_certificate input:checked").val()?($("#form_element_name").parent().hide(),$("#fieldset-address_group").parent().hide(),$(".or").show(),$("#skipmessage").show(),$("#formButtons").css("margin-left",0)):($("#form_element_name").parent().show(),$("#fieldset-address_group").parent().show(),$(".or").hide(),$("#skipmessage").hide(),$("#formButtons").css("margin-left",161))}function updateStateField(a,b){var c=!1;"payment"==b?("ca"==a||"us"==a||"gb"==a)&&(c=!0):("ca"==a||"us"==a||"gb"==a||"au"==a||"za"==a)&&(c=!0),$P.in_array(a,mov.vars.countriesWithStates)?($("#form_element_stated, .state-dd-wrapper").show(),$("#form_element_state, .state-wrapper").hide(),updateStateText(),c?$P.strpos($("#form_element_postcode label").html(),"&nbsp;*")<=0&&$("#form_element_postcode label").html($("#form_element_postcode label").html()+"&nbsp;*"):$P.strpos($("#form_element_postcode label").html(),"&nbsp;*")>0&&$("#form_element_postcode label").html($P.substr($("#form_element_postcode label").html(),0,-7))):($("#form_element_stated, .state-dd-wrapper").hide(),$("#form_element_state, .state-wrapper").show(),$("#state").val(""),$P.strpos($("#form_element_postcode label").html(),"&nbsp;*")>0&&!c&&$("#form_element_postcode label").html($P.substr($("#form_element_postcode label").html(),0,-7))),"ie"==a?($("#form_element_city label").length&&$P.strpos($("#form_element_city label").html(),"&nbsp;*")>0&&$("#form_element_city label").html($P.substr($("#form_element_city label").html(),0,-7)),$("#form_element_suburb label").length&&$P.strpos($("#form_element_suburb label").html(),"&nbsp;*")>0&&$("#form_element_suburb label").html($P.substr($("#form_element_suburb label").html(),0,-7))):($("#form_element_city label").length&&$P.strpos($("#form_element_city label").html(),"&nbsp;*")<=0&&$("#form_element_city label").html($("#form_element_city label").html()+"&nbsp;*"),$("#form_element_suburb label").length&&$P.strpos($("#form_element_suburb label").html(),"&nbsp;*")<=0&&$("#form_element_suburb label").html($("#form_element_suburb label").html()+"&nbsp;*"))}function updateStateText(){$("#state").val("0"!=$("#stated").val()?$("#stated").val():"")}function Select_Value_Set(SelectId,Value){for(eval('SelectObject = document.getElementsByName( "'+SelectId+'");'),index=0;index<SelectObject[0].length;index++)SelectObject[0][index].value==Value&&(SelectObject[0].selectedIndex=index)}function reloadStateField(a,b,c){if(bUrl=void 0!=b&&b===!0?sBaseUrl:baseUrl,void 0==c&&(c="register"),"receipt"==c||"payment"==c)var d=$("#state").val();updateStateField(a,c),"payment"==c&&(c="register"),$P.in_array(a,mov.vars.countriesWithStates)&&($("#form_element_stated .form_element_input").append(loadingImage),$("#stated").hide(),$.getJSON(bUrl+c+"/load-state-by-country",{country_code:a},function(a){if(a.result){if($("#stated").empty(),a.group){var b=null,e=null;$.each(a.states,function(a,c){"0"!=a?(optgroup=$("<optgroup/>"),optgroup.attr("label",a),e=null,$.each(c,function(a){b=$("<option/>").val(a).html(a),e=$(e).add(b)}),$(optgroup).append(e),$("#stated").append(optgroup)):$("#stated").append($("<option/>").val("0").html(c))})}else $.each(a.states,function(a,b){$("#stated").append($("<option/>").val(a).html(b))});("receipt"==c||"register"==c)&&Select_Value_Set("stated",d),updateStateText(),$("#form_element_stated .form_element_input img").remove(),$("#stated").show()}}))}function updateMemberPaymentAllocation(a,b){if($P.is_numeric(b)){var c=b/a;if(1>c)return;return void $("#allocation-amount-split").html(c)}$("#allocation-amount-split").html("XX")}function facebook_streamPublish(a,b,c,d,e,f,g,h,i){function j(a){console.log(a)}g&&""!=g&&"undefined"!==g||(g="Movember");var k={method:"feed",picture:i,title:d,caption:h,link:d,name:a,description:c,ref:"mospace",actions:{name:g,link:f}};FB.ui(k,j)}function fb_login(){FB.getLoginStatus(function(a){"connected"==a.status&&(window.location.href=sBaseUrl+"auth/connect")})}function fb_mospace_link(){FB.getLoginStatus(function(a){"connected"==a.status&&(window.location.href=sBaseUrl+"mospace/edit-details/fb-connect/")})}function _checkImage(a){return a.picture=a.picture?mov.helper.util.cleanImageUrl(a.picture,!0,!0):assetUrl+"images/icons/fb-open-graph-logo.gif",a}function facebook_requestFunds(a){a=_checkImage(a),facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"",a.picture)}function facebook_teamInvite(a){a=_checkImage(a),facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"",a.picture)}function facebook_justDonated(a){facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,baseUrl,a.picture)}function facebook_attendGalaParte(a){a=_checkImage(a),facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"",a.picture)}function facebook_sharePosterData(a){a=_checkImage(a),facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"",a.picture)}function facebook_shareFact(a){a=_checkImage(a),facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"")}function facebook_revokeAuthorization(){FB.api({method:"Auth.revokeAuthorization"},function(){window.location=sBaseUrl+"auth/revoke-facebook-authorisation"})}function facebook_connected(){fbConnected=!0}function facebook_login(){facebook_isLoggedIn(),window.location.reload()}function facebook_isLoggedIn(){}function facebook_logout(){window.location.reload()}function facebook_toggleDisplayAllConnectedFriends(){$(".hiddenFBFriends").toggle(),$("#facebook_showAllLink").toggle()}function facebook_thankDonaitons(a){facebook_streamPublish(a.name,a.message,a.description,a.nameLink,a.actionTitle,a.actionLink,a.prompt,"")}function facebook_share_dialog(a,b,c,d,e){"default"===c&&(c=$("#facebook-share-default-text").attr("src")),d||(d=location.href),e||(e="movember");var f={method:"feed",name:a,description:b,ref:e,caption:baseUrl,link:d,actions:{name:"Movember",link:d}};return c&&("http:"!=c.substring(0,5)&&(c="http:"+c),f.picture=c),FB.ui(f,function(a){a&&!a.error_code&&"undefined"!=typeof mov.site.kissMetrics&&mov.site.kissMetrics.trackEventAction("social media share",{"social media share":"facebook"}),mov._debug(a)}),!1}function toggleSlide(a){var b=$("#"+a);$("#"+a+":hidden").length>0?b.show("slide"):b.hide("slide")}function toggleSlideDown(a){var b=$("#"+a);$("#"+a+":hidden").length>0?b.slideDown():b.slideUp()}if(window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)E[c[d]]=!!(c[d]in u);return E.list&&(E.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.6.2",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},I=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),J={}.hasOwnProperty;m=f(J,"undefined")||f(J.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return J.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),C.flexbox=function(){return j("flexWrap")},C.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},C.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},C.webgl=function(){return!!a.WebGLRenderingContext},C.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:H(["@media (",x.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return I("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!(!a.history||!history.pushState)},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+x.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},C.generatedcontent=function(){var a;return H(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var K in C)m(C,K)&&(l=K.toLowerCase(),o[l]=C[K](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=r.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=q[a[o]];return b||(b={},p++,a[o]=p,q[p]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():n.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),f.canHaveChildren&&!m.test(a)?d.frag.appendChild(f):f}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function i(a){a||(a=b);var d=e(a);return!r.shivCSS||j||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),k||h(a,d),a}var j,k,l=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o="_html5shiv",p=0,q={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var r={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:l.shivCSS!==!1,supportsUnknownElements:k,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=r,i(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.hasEvent=I,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;g>c;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;e>c;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){if("undefined"==typeof this.PHP_JS)var a=function(b){if(!(this instanceof a))return new a(b);if(this.window=b&&b.window?b.window:window,this.php_js={},this.php_js.ini={},b)for(var c in b.ini)this.php_js.ini[c]={},this.php_js.ini[c].local_value=b.ini[c],this.php_js.ini[c].global_value=b.ini[c]};a.prototype={constructor:a,explode:function(a,b,c){var d={0:""};if(arguments.length<2||"undefined"==typeof arguments[0]||"undefined"==typeof arguments[1])return null;if(""===a||a===!1||null===a)return!1;if("function"==typeof a||"object"==typeof a||"function"==typeof b||"object"==typeof b)return d;if(a===!0&&(a="1"),c){var e=b.toString().split(a.toString()),f=e.splice(0,c-1),g=e.join(a.toString());return f.push(g),f}return b.toString().split(a.toString())},in_array:function(a,b,c){var d="",e=!!c;if(e){for(d in b)if(b[d]===a)return!0}else for(d in b)if(b[d]==a)return!0;return!1},is_numeric:function(a){return("number"==typeof a||"string"==typeof a)&&""!==a&&!isNaN(a)},number_format:function(a,b,c,d){var e=isFinite(+a)?+a:0,f=isFinite(+b)?Math.abs(b):0,g="undefined"==typeof d?",":d,h="undefined"==typeof c?".":c,i="",j=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};return i=(f?j(e,f):""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)),(i[1]||"").length<f&&(i[1]=i[1]||"",i[1]+=new Array(f-i[1].length+1).join("0")),i.join(h)},str_replace:function(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,k=[].concat(a),l=[].concat(b),m=c,n=l instanceof Array,o=m instanceof Array;for(m=[].concat(m),d&&(this.window[d]=0),e=0,i=m.length;i>e;e++)if(""!==m[e])for(f=0,j=k.length;j>f;f++)g=m[e]+"",h=n?void 0!==l[f]?l[f]:"":l[0],m[e]=g.split(k[f]).join(h),d&&m[e]!==g&&(this.window[d]+=(g.length-m[e].length)/k[f].length);return o?m:m[0]},strlen:function(a){var b=a+"",c=0,d="",e=0;if(!this.php_js||!this.php_js.ini||!this.php_js.ini["unicode.semantics"]||"on"!==this.php_js.ini["unicode.semantics"].local_value.toLowerCase())return a.length;var f=function(a,b){var c=a.charCodeAt(b),d="",e="";if(c>=55296&&56319>=c){if(a.length<=b+1)throw"High surrogate without following low surrogate";if(d=a.charCodeAt(b+1),56320>d||d>57343)throw"High surrogate without following low surrogate";return a.charAt(b)+a.charAt(b+1)}if(c>=56320&&57343>=c){if(0===b)throw"Low surrogate without preceding high surrogate";if(e=a.charCodeAt(b-1),55296>e||e>56319)throw"Low surrogate without preceding high surrogate";return!1}return a.charAt(b)};for(c=0,e=0;c<b.length;c++)(d=f(b,c))!==!1&&e++;return e},strpos:function(a,b,c){var d=(a+"").indexOf(b,c||0);return-1===d?!1:d},substr:function(a,b,c){var d=0,e=!0,f=0,g=0,h=0,i="";a+="";var j=a.length;switch(this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},this.php_js.ini["unicode.semantics"]&&this.php_js.ini["unicode.semantics"].local_value.toLowerCase()){case"on":for(d=0;d<a.length;d++)if(/[\uD800-\uDBFF]/.test(a.charAt(d))&&/[\uDC00-\uDFFF]/.test(a.charAt(d+1))){e=!1;break}if(!e){if(0>b)for(d=j-1,f=b+=j;d>=f;d--)/[\uDC00-\uDFFF]/.test(a.charAt(d))&&/[\uD800-\uDBFF]/.test(a.charAt(d-1))&&(b--,f--);else for(var k=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;null!=k.exec(a);){var l=k.lastIndex;if(!(b>l-2))break;b++}if(b>=j||0>b)return!1;if(0>c){for(d=j-1,g=j+=c;d>=g;d--)/[\uDC00-\uDFFF]/.test(a.charAt(d))&&/[\uD800-\uDBFF]/.test(a.charAt(d-1))&&(j--,g--);return b>j?!1:a.slice(b,j)}for(h=b+c,d=b;h>d;d++)i+=a.charAt(d),/[\uD800-\uDBFF]/.test(a.charAt(d))&&/[\uDC00-\uDFFF]/.test(a.charAt(d+1))&&h++;return i}case"off":default:return 0>b&&(b+=j),j="undefined"==typeof c?j:0>c?c+j:c+b,b>=a.length||0>b||b>j?!1:a.slice(b,j)}return void 0},trim:function(a,b){var c,d=0,e=0;for(a+="",b?(b+="",c=b.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1")):c=" \n\r	\f            ​\u2028\u2029　",d=a.length,e=0;d>e;e++)if(-1===c.indexOf(a.charAt(e))){a=a.substring(e);break}for(d=a.length,e=d-1;e>=0;e--)if(-1===c.indexOf(a.charAt(e))){a=a.substring(0,e+1);break}return-1===c.indexOf(a.charAt(0))?a:""},urldecode:function(a){return decodeURIComponent(a.replace(/\+/g,"%20"))},urlencode:function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},time:function(){return Math.floor((new Date).getTime()/1e3)}},this.PHP_JS=a}(),$P=new PHP_JS,function(){"use strict";function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return d&&!e&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,
a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),function(a){function b(a){return"[object Function]"==Object.prototype.toString.call(a)}function c(a){return"[object Array]"==Object.prototype.toString.call(a)}function d(a,b){var c=/^\w+\:\/\//;return/^\/\/\/?/.test(a)?a=location.protocol+a:c.test(a)||"/"==a.charAt(0)||(a=(b||"")+a),c.test(a)?a:("/"==a.charAt(0)?r:q)+a}function e(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function f(a){for(var b=!1,c=0;c<a.scripts.length;c++)a.scripts[c].ready&&a.scripts[c].exec_trigger&&(b=!0,a.scripts[c].exec_trigger(),a.scripts[c].exec_trigger=null);return b}function g(a,b,c,d){a.onload=a.onreadystatechange=function(){a.readyState&&"complete"!=a.readyState&&"loaded"!=a.readyState||b[c]||(a.onload=a.onreadystatechange=null,d())}}function h(a){a.ready=a.finished=!0;for(var b=0;b<a.finished_listeners.length;b++)a.finished_listeners[b]();a.ready_listeners=[],a.finished_listeners=[]}function i(a,b,c,d,e){setTimeout(function(){var f,h,i=b.real_src;if("item"in s){if(!s[0])return void setTimeout(arguments.callee,25);s=s[0]}f=document.createElement("script"),b.type&&(f.type=b.type),b.charset&&(f.charset=b.charset),e?w?(c.elem=f,v?(f.preload=!0,f.onpreload=d):f.onreadystatechange=function(){"loaded"==f.readyState&&d()},f.src=i):e&&0==i.indexOf(r)&&a[l]?(h=new XMLHttpRequest,h.onreadystatechange=function(){4==h.readyState&&(h.onreadystatechange=function(){},c.text=h.responseText+"\n//@ sourceURL="+i,d())},h.open("GET",i),h.send()):(f.type="text/cache-script",g(f,c,"ready",function(){s.removeChild(f),d()}),f.src=i,s.insertBefore(f,s.firstChild)):x?(f.async=!1,g(f,c,"finished",d),f.src=i,s.insertBefore(f,s.firstChild)):(g(f,c,"finished",d),f.src=i,s.insertBefore(f,s.firstChild))},0)}function j(){function q(a,b,c){function d(){null!=e&&(e=null,h(c))}var e;A[b.src].finished||(a[n]||(A[b.src].finished=!0),e=c.elem||document.createElement("script"),b.type&&(e.type=b.type),b.charset&&(e.charset=b.charset),g(e,c,"finished",d),c.elem?c.elem=null:c.text?(e.onload=e.onreadystatechange=null,e.text=c.text):e.src=b.real_src,s.insertBefore(e,s.firstChild),c.text&&d())}function r(a,b,c,e){var f,g,j=function(){b.ready_cb(b,function(){q(a,b,f)})},k=function(){b.finished_cb(b,c)};b.src=d(b.src,a[p]),b.real_src=b.src+(a[o]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),A[b.src]||(A[b.src]={items:[],finished:!1}),g=A[b.src].items,a[n]||0==g.length?(f=g[g.length]={ready:!1,finished:!1,ready_listeners:[j],finished_listeners:[k]},i(a,b,f,e?function(){f.ready=!0;for(var a=0;a<f.ready_listeners.length;a++)f.ready_listeners[a]();f.ready_listeners=[]}:function(){h(f)},e)):(f=g[0],f.finished?k():f.finished_listeners.push(k))}function t(){function a(a,b){a.ready=!0,a.exec_trigger=b,g()}function d(a,b){a.ready=a.finished=!0,a.exec_trigger=null;for(var c=0;c<b.scripts.length;c++)if(!b.scripts[c].finished)return;b.finished=!0,g()}function g(){for(;n<l.length;)if(b(l[n]))try{l[n++]()}catch(a){}else{if(!l[n].finished){if(f(l[n]))continue;break}n++}n==l.length&&(o=!1,j=!1)}function h(){j&&j.scripts||l.push(j={scripts:[],finished:!0})}var i,j,k=e(v,{}),l=[],n=0,o=!1;return i={script:function(){for(var f=0;f<arguments.length;f++)!function(f,g){var l;c(f)||(g=[f]);for(var n=0;n<g.length;n++)h(),f=g[n],b(f)&&(f=f()),f&&(c(f)?(l=[].slice.call(f),l.unshift(n,1),[].splice.apply(g,l),n--):("string"==typeof f&&(f={src:f}),f=e(f,{ready:!1,ready_cb:a,finished:!1,finished_cb:d}),j.finished=!1,j.scripts.push(f),r(k,f,j,x&&o),o=!0,k[m]&&i.wait()))}(arguments[f],arguments[f]);return i},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++)l.push(arguments[a]);j=l[l.length-1]}else j=!1;return g(),i}},{script:i.script,wait:i.wait,setOptions:function(a){return e(a,k),i}}}var u,v={},x=w||y,z=[],A={};return v[l]=!0,v[m]=!1,v[n]=!1,v[o]=!1,v[p]="",u={setGlobalDefaults:function(a){return e(a,v),u},setOptions:function(){return t().setOptions.apply(null,arguments)},script:function(){return t().script.apply(null,arguments)},wait:function(){return t().wait.apply(null,arguments)},queueScript:function(){return z[z.length]={type:"script",args:[].slice.call(arguments)},u},queueWait:function(){return z[z.length]={type:"wait",args:[].slice.call(arguments)},u},runQueue:function(){for(var a,b=u,c=z.length,d=c;--d>=0;)a=z.shift(),b=b[a.type].apply(null,a.args);return b},noConflict:function(){return a.$LAB=k,u},sandbox:function(){return j()}}}var k=a.$LAB,l="UseLocalXHR",m="AlwaysPreserveOrder",n="AllowDuplicates",o="CacheBust",p="BasePath",q=/^[^?#]*\//.exec(location.href)[0],r=/^\w+\:\/\/\/?[^\/]+/.exec(q)[0],s=document.head||document.getElementsByTagName("head"),t=a.opera&&"[object Opera]"==Object.prototype.toString.call(a.opera)||"MozAppearance"in document.documentElement.style,u=document.createElement("script"),v="boolean"==typeof u.preload,w=v||u.readyState&&"uninitialized"==u.readyState,x=!w&&u.async===!0,y=!w&&!x&&!t;a.$LAB=j(),function(a,b,c){null==document.readyState&&document[a]&&(document.readyState="loading",document[a](b,c=function(){document.removeEventListener(b,c,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")}(this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(c){function d(){function d(){var b=k.attr("target"),c=k.attr("action");g.setAttribute("target",j),"POST"!=g.getAttribute("method")&&g.setAttribute("method","POST"),g.getAttribute("action")!=h.url&&g.setAttribute("action",h.url),h.skipEncodingOverride||k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&setTimeout(function(){q=!0,e()},h.timeout);var d=[];try{if(h.extraData)for(var f in h.extraData)d.push(a('<input type="hidden" name="'+f+'" value="'+h.extraData[f]+'" />').appendTo(g)[0]);l.appendTo("body"),l.data("form-plugin-onload",e),g.submit()}finally{g.setAttribute("action",c),b?g.setAttribute("target",b):k.removeAttr("target"),a(d).remove()}}function e(){if(!p){var c=!0;try{if(q)throw"timeout";var d,g;g=m.contentWindow?m.contentWindow.document:m.contentDocument?m.contentDocument:m.document;var i="xml"==h.dataType||g.XMLDocument||a.isXMLDoc(g);if(b("isXml="+i),!i&&(null==g.body||""==g.body.innerHTML))return--t?(b("requeing onLoad callback, DOM not available"),void setTimeout(e,250)):void b("Could not access iframe DOM after 100 tries.");if(b("response detected"),p=!0,n.responseText=g.body?g.body.innerHTML:null,n.responseXML=g.XMLDocument?g.XMLDocument:g,n.getResponseHeader=function(a){var b={"content-type":h.dataType};return b[a]},"json"==h.dataType||"script"==h.dataType){var j=g.getElementsByTagName("textarea")[0];if(j)n.responseText=j.value;else{var k=g.getElementsByTagName("pre")[0];k&&(n.responseText=k.innerHTML)}}else"xml"!=h.dataType||n.responseXML||null==n.responseText||(n.responseXML=f(n.responseText));d=a.httpData(n,h.dataType)}catch(r){b("error caught:",r),c=!1,n.error=r,a.handleError(h,n,"error",r)}c&&(h.success(d,"success"),o&&a.event.trigger("ajaxSuccess",[n,h])),o&&a.event.trigger("ajaxComplete",[n,h]),o&&!--a.active&&a.event.trigger("ajaxStop"),h.complete&&h.complete(n,c?"success":"error"),setTimeout(function(){l.removeData("form-plugin-onload"),l.remove(),n.responseXML=null},100)}}function f(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.tagName?b:null}var g=k[0];if(a(":input[name=submit]",g).length)return void alert('Error: Form elements must not be named "submit".');var h=a.extend({},a.ajaxSettings,c),i=a.extend(!0,{},a.extend(!0,{},a.ajaxSettings),h),j="jqFormIO"+(new Date).getTime(),l=a('<iframe id="'+j+'" name="'+j+'" src="'+h.iframeSrc+'" onload="(jQuery(this).data(\'form-plugin-onload\'))()" />'),m=l[0];l.css({position:"absolute",top:"-1000px",left:"-1000px"});var n={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1,l.attr("src",h.iframeSrc)}},o=h.global;if(o&&!a.active++&&a.event.trigger("ajaxStart"),o&&a.event.trigger("ajaxSend",[n,h]),i.beforeSend&&i.beforeSend(n,i)===!1)return void(i.global&&a.active--);if(!n.aborted){var p=!1,q=0,r=g.clk;if(r){var s=r.name;s&&!r.disabled&&(h.extraData=h.extraData||{},h.extraData[s]=r.value,"image"==r.type&&(h.extraData[s+".x"]=g.clk_x,h.extraData[s+".y"]=g.clk_y))}h.forceSync?d():setTimeout(d,10);var t=100}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof c&&(c={success:c});var e=a.trim(this.attr("action"));e&&(e=(e.match(/^([^#]+)/)||[])[1]),e=e||window.location.href||"",c=a.extend({url:e,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c||{});var f={};if(this.trigger("form-pre-serialize",[this,c,f]),f.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var g=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(var h in c.data)if(c.data[h]instanceof Array)for(var i in c.data[h])g.push({name:h,value:c.data[h][i]});else g.push({name:h,value:c.data[h]})}if(c.beforeSubmit&&c.beforeSubmit(g,this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,c,f]),f.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var j=a.param(g);"GET"==c.type.toUpperCase()?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+j,c.data=null):c.data=j;var k=this,l=[];if(c.resetForm&&l.push(function(){k.resetForm()}),c.clearForm&&l.push(function(){k.clearForm()}),!c.dataType&&c.target){var m=c.success||function(){};l.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(m,arguments)})}else c.success&&l.push(c.success);c.success=function(a,b,d){for(var e=0,f=l.length;f>e;e++)l[e].apply(c,[a,b,d||k,k])};for(var n=a("input:file",this).fieldValue(),o=!1,p=0;p<n.length;p++)n[p]&&(o=!0);var q=!1;return n.length&&c.iframe!==!1||c.iframe||o||q?c.closeKeepAlive?a.get(c.closeKeepAlive,d):d():a.ajax(c),this.trigger("form-submit-notify",[this,c]),this},a.fn.ajaxForm=function(b){return this.ajaxFormUnbind().bind("submit.form-plugin",function(c){c.preventDefault(),a(this).ajaxSubmit(b)}).bind("click.form-plugin",function(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(0==e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!=b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b){var c=[];if(0==this.length)return c;var d=this[0],e=b?d.getElementsByTagName("*"):d.elements;if(!e)return c;for(var f=0,g=e.length;g>f;f++){var h=e[f],i=h.name;if(i)if(b&&d.clk&&"image"==h.type)h.disabled||d.clk!=h||(c.push({name:i,value:a(h).val()}),c.push({name:i+".x",value:d.clk_x},{name:i+".y",value:d.clk_y}));else{var j=a.fieldValue(h,!0);if(j&&j.constructor==Array)for(var k=0,l=j.length;l>k;k++)c.push({name:i,value:j[k]});else null!==j&&"undefined"!=typeof j&&c.push({name:i,value:j})}}if(!b&&d.clk){var m=a(d.clk),n=m[0],i=n.name;i&&!n.disabled&&"image"==n.type&&(c.push({name:i,value:m.val()}),c.push({name:i+".x",value:d.clk_x},{name:i+".y",value:d.clk_y}))}return c},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(a,b){var c=a.name,d=a.type,e=a.tagName.toLowerCase();if("undefined"==typeof b&&(b=!0),b&&(!c||a.disabled||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==e&&-1==a.selectedIndex))return null;if("select"==e){var f=a.selectedIndex;if(0>f)return null;for(var g=[],h=a.options,i="select-one"==d,j=i?f+1:h.length,k=i?f:0;j>k;k++){var l=h[k];if(l.selected){var m=l.value;if(m||(m=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value),i)return m;g.push(m)}}return g}return a.value},a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})},a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0==a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0==b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})}}(jQuery),function(a){a.InFieldLabels=function(b,c,d){var e=this;e.$label=a(b),e.label=b,e.$field=a(c),e.field=c,e.$label.data("InFieldLabels",e),e.showing=!0,e.init=function(){e.options=a.extend({},a.InFieldLabels.defaultOptions,d),""!=e.$field.val()&&(e.$label.hide(),e.showing=!1),e.$field.focus(function(){e.fadeOnFocus()}).blur(function(){e.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}).change(function(){e.checkForEmpty()}).bind("onPropertyChange",function(){e.checkForEmpty()})},e.fadeOnFocus=function(){e.showing&&e.setOpacity(e.options.fadeOpacity)},e.setOpacity=function(b){e.$label.stop().animate({opacity:b},e.options.fadeDuration,function(){1==b&&a(this).css({opacity:""})}),e.showing=b>0},e.checkForEmpty=function(a){""==e.$field.val()?(e.prepForShow(),e.setOpacity(a?1:e.options.fadeOpacity)):e.setOpacity(0)},e.prepForShow=function(){e.showing||(e.$label.css({opacity:0}).show(),e.$field.bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}))},e.hideOnChange=function(a){16!=a.keyCode&&9!=a.keyCode&&(e.showing&&(e.$label.hide(),e.showing=!1),e.$field.unbind("keydown.infieldlabel"))},e.init()},a.InFieldLabels.defaultOptions={fadeOpacity:1,fadeDuration:300},a.fn.inFieldLabels=function(b){return this.each(function(){var c=a(this).attr("for");if(c){var d=a("input#"+c+"[type='text'],input#"+c+"[type='password'],textarea#"+c);0!=d.length&&new a.InFieldLabels(this,d[0],b)}})}}(jQuery),$.fn.infieldPlaceholders=function(a){return this.each(function(){var b=$(this),c=this;if(b.attr("placeholder")){var d=b.attr("placeholder"),e=c.tagName.toLowerCase();b.attr("type")&&"text"==b.attr("type").toLowerCase()&&"input"==e&&(e="textbox");var f=$('<div class="placeholder placeholder_'+e+'">'+d+"</div>").css({position:"absolute",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",cursor:"text"}).click(function(){b.focus()});b.before(f),new $.InFieldLabels(f.get(0),c,a)}})},window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(a){var b,c,d,e,g,h=a||{};b=h.elements||f.getAllElements();for(var i=0,j=b.length;j>i;i++)if(c=b[i],d=c.parentNode,e=void 0,g=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[f.ns]||(c[f.ns]={}),h.reevaluate||!c[f.ns].evaluated)){if("PICTURE"===d.nodeName.toUpperCase()){if(f.removeVideoShim(d),e=f.getMatch(c,d),e===!1)continue}else e=void 0;("PICTURE"===d.nodeName.toUpperCase()||c.srcset&&!f.srcsetSupported||!f.sizesSupported&&c.srcset&&c.srcset.indexOf("w")>-1)&&f.dodgeSrcset(c),e?(g=f.processSourceSet(e),f.applyBestCandidate(g,c)):(g=f.processSourceSet(c),(void 0===c.srcset||c[f.ns].srcset)&&f.applyBestCandidate(g,c)),c[f.ns].evaluated=!0}}function e(){function c(){var b;a._picturefillWorking||(a._picturefillWorking=!0,a.clearTimeout(b),b=a.setTimeout(function(){d({reevaluate:!0}),a._picturefillWorking=!1},60))}d();var e=setInterval(function(){return d(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(e):void 0},250);a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void(a.picturefill=function(){});b.createElement("picture");var f={};f.ns="picturefill",function(){f.srcsetSupported="srcset"in c,f.sizesSupported="sizes"in c}(),f.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},f.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},f.restrictsMixedContent=function(){return"https:"===a.location.protocol},f.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},f.getDpr=function(){return a.devicePixelRatio||1},f.getWidthFromLength=function(a){a=a&&a.indexOf("%")>-1==0&&(parseFloat(a)>0||a.indexOf("calc(")>-1)?a:"100vw",a=a.replace("vw","%"),f.lengthEl||(f.lengthEl=b.createElement("div"),f.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),f.lengthEl.style.width=a,b.body.appendChild(f.lengthEl),f.lengthEl.className="helper-from-picturefill-js",f.lengthEl.offsetWidth<=0&&(f.lengthEl.style.width=b.documentElement.offsetWidth+"px");var c=f.lengthEl.offsetWidth;return b.body.removeChild(f.lengthEl),c},f.types={},f.types["image/jpeg"]=!0,f.types["image/gif"]=!0,f.types["image/png"]=!0,f.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),f.types["image/webp"]=function(){var a="image/webp";c.onerror=function(){f.types[a]=!1,d()},c.onload=function(){f.types[a]=1===c.width,d()},c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},f.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b?!0:"function"==typeof f.types[b]?(f.types[b](),"pending"):f.types[b]},f.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},f.findWidthFromSourceSize=function(a){for(var b,c=f.trim(a).split(/\s*,\s*/),d=0,e=c.length;e>d;d++){var g=c[d],h=f.parseSize(g),i=h.length,j=h.media;if(i&&(!j||f.matchesMedia(j))){b=i;break}}return f.getWidthFromLength(b)},f.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},f.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),g=f.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||f.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/g)}return c||1},f.getCandidatesFromSourceSet=function(a,b){for(var c=f.parseSrcset(a),d=[],e=0,g=c.length;g>e;e++){var h=c[e];d.push({url:h.url,resolution:f.parseDescriptor(h.descriptor,b)})}return d},f.dodgeSrcset=function(a){a.srcset&&(a[f.ns].srcset=a.srcset,a.removeAttribute("srcset"))},f.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[f.ns]&&a[f.ns].srcset&&(b=a[f.ns].srcset),b&&(d=f.getCandidatesFromSourceSet(b,c)),d},f.applyBestCandidate=function(a,b){var c,d,e;a.sort(f.ascendingSort),d=a.length,e=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=f.getDpr()){e=c;break}if(e&&!f.endsWith(b.src,e.url))if(f.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+e.url);else{b.src=e.url,b.currentSrc=b.src;var h=b.style||{},i="webkitBackfaceVisibility"in h,j=h.zoom;i&&(h.zoom=".999",i=b.offsetWidth,h.zoom=j)}},f.ascendingSort=function(a,b){return a.resolution-b.resolution},f.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},f.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var g=c[d];("PICTURE"===g.parentNode.nodeName.toUpperCase()||null!==g.getAttribute("srcset")||g[f.ns]&&null!==g[f.ns].srcset)&&a.push(g)}return a},f.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,g=d.length;g>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||f.matchesMedia(i))){var j=f.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},e(),d._=f,"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof a&&(a.picturefill=d)}(window,window.document,new window.Image),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,d=d.concat(c.errorList)}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this.form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!a(this).is(e.ignore)&&e[d].call(c,this,b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},
form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var b,c=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(b=0;c[b];b++)this.settings.unhighlight.call(this,c[b],this.settings.errorClass,"");else c.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?this.findByName(b.name).filter(":checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j instanceof TypeError&&(j.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),j}}return h?void 0:(this.objectLength(f)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.off(".validate-equalTo").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}});var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=0,c=Array.prototype.slice;return a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(b[d]=a.isPlainObject(e)?a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget}),function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],a):a(jQuery)}(function(a){return a.widget("ui.menu",{version:"1.11.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target);!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.currentTarget);c.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this._filterMenuItems(e),c=f&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this._filterMenuItems(e)),c.length?(this.focus(b,c),this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var b,c,d=this,e=this.options.icons.submenu,f=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.parent(),d=a("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))}),b=f.add(this.element),c=b.find(this.options.items),c.not(".ui-menu-item").each(function(){var b=a(this);d._isDivider(b)&&b.addClass("ui-widget-content ui-menu-divider")}),c.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),c.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.outerHeight(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d;

},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).text()))})}})}),function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],a):a(jQuery)}(function(a){return a.widget("ui.autocomplete",{version:"1.11.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){var d,e;return this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)})):(e=c.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",b,{item:e})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value),d=c.item.attr("aria-label")||e.value,void(d&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b&&b[0]||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!b||b&&!c&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").text(c.label).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}}),a.ui.autocomplete}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.2",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.2",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.2",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.2",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.2",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),
a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.2",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.2",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.2",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.2",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),mov.debugMode=!1,mov.baseUrl=window.baseUrl,mov.apiBaseUrl="/api/",mov.inline={},mov._debug=function(a){window._debug&&window.console&&console.log&&console.log(a)},mov._warn=function(a){window._debug&&window.console&&console.warn&&console.warn(a)},mov.getInlineTranslation=function(a){mov._debug("mov.getInlineTranslation("+a+")");var b=$.trim(a.replace(/\-/g,""));if("object"==typeof mov.inline&&"object"==typeof mov.inline.translations){if(mov.inline.translations.hasOwnProperty(b))return mov.inline.translations[b]}else mov._warn("mov.inline.translations is not defined, translation lookup will fail.");return""},mov.getInlineValidation=function(a){if(mov._debug("mov.getInlineValidation("+a+")"),"object"==typeof mov.inline&&"object"==typeof mov.inline.validations){if(mov.inline.validations.hasOwnProperty(a))return mov.inline.validations[a]}else mov._warn("mov.inline.validations is not defined, validator regex lookup will fail.");return""},mov.loadText=function(id,callback){mov._debug("mov.loadText("+id+")"),"string"==typeof id?$.getJSON(baseUrl+"campaign/samurai/load-text/id/"+id,function(result){if(result){if("function"!=typeof callback)return result.text;eval(callback(result.text))}}):$.isArray(id)&&$.getJSON(baseUrl+"campaign/samurai/load-text/ids/"+id,function(result){if(result){if("function"!=typeof callback)return result;eval(callback(result))}})},"undefined"==typeof mov.momoney&&(mov.momoney={}),mov.momoney.reloadLeaderBoardView=function(a,b,c){var d=baseUrl+"leaderboards/"+a;$("#country_drop").length&&(d+="/search_country/"+$("#country_drop").val()),$("#gender_drop").length&&(d+="/search_gender/"+$("#gender_drop").val()),$("#occupation_drop").length&&(d+="/search_occupation/"+$("#occupation_drop").val()),$("#physical_country_drop").length&&(d+="/search_physical_country/"+$("#physical_country_drop").val()),$("#size_drop").length&&(d+="/size/"+$("#size_drop").val()),b&&(d+="/top/"+b),c&&(d+="/layout/"+c),window.location=d},mov.momoney.reloadTopMoSpaceView=function(a,b){var c=a+"/selected_country/"+$("#countryList").val();"0"!=$("#genderList").val()&&(c+="/gender/"+$("#genderList").val()),b&&(c+="/sort/"+b),window.location=c},jQuery.extend({postJSON:function(a,b,c){return jQuery.post(a,b,c,"json")}}),"undefined"==typeof Samurai&&(Samurai={}),$.extend(Samurai,{loadText:function(id,placeholder,callback){var targetElm=null;if("object"==typeof placeholder)targetElm=placeholder;else{if("string"!=typeof placeholder)return!1;targetElm=$("#"+placeholder)}$.getJSON(baseUrl+"campaign/samurai/load-text/id/"+id,function(jsonObj){jsonObj&&(targetElm.html(jsonObj.text),"function"==typeof callback&&eval(callback(jsonObj)))})},loadValidatorRegex:function(a){var b="";"String"==typeof a&&(b=a),$.ajax({url:baseUrl+"campaign/samurai/load-postcode-regex/",data:{locale:b},success:function(a){return a?a.regex:void 0}})}}),mov.helper.validate={errors:null,errorStack:{use:function(){mov.helper.validate.errors=new Array},addError:function(a){if(mov.helper.validate.isArray(mov.helper.validate.errors)){var b=mov.helper.validate.errorStack;b.hasError(a)||mov.helper.validate.errors.push(a)}},hasErrors:function(){return mov.helper.validate.errors.length>0},hasError:function(a){Array.prototype.compare||(Array.prototype.compare=function(a){if(!a)return!1;if(this.length!=a.length)return!1;for(var b=0;b<this.length;b++)if(this[b]instanceof Array&&a[b]instanceof Array){if(!this[b].compare(a[b]))return!1}else if(this[b]!=a[b])return!1;return!0});var b=mov.helper.validate.errorStack,c=b.getErrors(),d={};if(c)try{c.forEach(function(b){if(b.compare(a))throw d})}catch(e){return!0}return!1},elementHasError:function(a){var b=mov.helper.validate.errorStack,c=b.getErrors(),d={};if(c)try{c.forEach(function(b){if(b[0]===a)throw d})}catch(e){return!0}return!1},clearElementErrors:function(a){var b=mov.helper.validate.errorStack;if(b.elementHasError(a))for(var c=b.getErrors(),d=0;d<c.length;d++)c[d][0]===a&&(b.clearError(c[d]),mov.helper.validate.errors.splice(d,1))},getErrors:function(a){if(mov._debug("mov.errorStack.getErrors( "+a+" )"),mov.helper.validate.errorStack.hasErrors()){var b=a||null;if(!b)return mov.helper.validate.errors;var c=[];return mov.helper.validate.errors.forEach(function(a){a[0]===b&&c.push(a)}),c}return!1},flush:function(){delete mov.helper.validate.errors,mov.helper.validate.errors=new Array},clearError:function(a){mov._debug("m.v.clearError("+a[0]+")");var b=mov.helper.validate.errorStack,c=b.getErrorContainer(a);if(c.length){c.empty();var d=b.getInput(a);d.length&&(d.removeClass("error"),d.parent().removeClass("error"))}else mov._warn("Unable to clear this collection of errors: unable to locate error container.")},clearAllErrors:function(){mov._debug("mov.helper.validate.errorsStack.clearAllErrors()");var a=mov.helper.validate.errorStack,b=a.getErrors();b&&b.forEach(function(b){var c=a.getErrorContainer(b);c.length&&c.empty()})},resetAllErrors:function(){$(".form_element_errors ul").remove()},getTranslation:function(a){return mov.getInlineTranslation(a)},getValidator:function(a){return mov.getInlineValidation(a)},getInput:function(a){if(mov._debug("getInput("+a[0]+")"),$("#"+a[0]).length&&$("#"+a[0]).is("input"))return $("#"+a[0]);var b=a[0].replace("form_element_",""),c=$("input#"+b+",textarea#"+b);return c.length||(c=$("select#"+b),c.length)?c:(mov._warn("Unable to locate a valid input element (input#"+b+",textarea#"+b+") for this error:"),mov._debug(a),$())},getErrorContainer:function(a){mov._debug("getErrorContainer("+a[1]+")");var b=mov.helper.validate.errorStack,c=b.getInput(a);if(!c.length)return!1;if(c.data().validationMessageTarget)return $("#"+c.data().validationMessageTarget);if(c.siblings(".form_element_errors").length){var d=c.siblings(".form_element_errors");return d}var d=c.closest(".form_element").find(".form_element_errors");return d.length||(d=c.closest(".ff-field").find(".ff-errors")),d.length?d:(mov._warn("Unable to determine the errorContainer for this error."),!1)},mapErrors:function(a){mov._debug("mapErrors()");var b=mov.helper.validate.errorStack,c=null;void 0!==a&&(c=a);var d=b.getErrors(c),e=$('<ul class="errors" />'),f=$("<li></li>"),g={};if(d)try{d.forEach(function(a){var c=e.clone(),d=f.clone(),h=b.getErrorContainer(a);if(!h.length)throw mov._warn("Bailing as the errorContainer was not found..."),g;var i=mov.getInlineTranslation(a[1]);(mov.helper.validate.isEmpty(i)||mov.helper.validate.isEmptyString(i))&&(mov._debug("Encountered a missing translation object for:"),mov._debug(a),i="Please correct this field"),d.html(i),d.appendTo(c),h.append(c),b.getInput(a).addClass("error"),b.getInput(a).parent().addClass("error")})}catch(h){}}},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isValidEmailAddress:function(a){var b=/^([A-Za-z0-9_\-\.\+'])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,63})$/;return b.test(a)},isValidUrl:function(a){var b=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return b.test(a)},isValidYoutubeUrl:function(a){var b=/http(s?):\/\/(?:youtu\.be\/|(?:[a-z]{2,3}\.)?youtube\.com\/watch(?:\?|#\!)v=)([\w-]{11}).*/gi;return b.test(a)},isValidCreditCardNumber:function(a,b){var c=this;if(c.isEmpty(a)||!c.isNumber(a))return!1;var d=a.length,e="";return"visa"==b?(e=/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/,e.test(a)):"mc"==b?(e=/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/,e.test(a)):"amex"==b?(e=/^3[4,7]\d{13}$/,e.test(a)):"laser"==b?c.isGreaterThan(d,19)&&c.isLessThan(d,16):"maestro"==b&&16!=d&&18!=d&&19!=d?16==d||18==d||19==d:!0},isValidDonationAmount:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isValidCreditCardExpiryDate:function(a,b){if(0==a||a>12||0==b)return!1;var c=new Date;c=c.getTime();var d=new Date;d.setYear(20+b),d.setMonth(a),d.setDate(1);var e=d.getTime();return e>c},isValidCvv:function(a){return"string"==typeof mov.vars.country&&"ie"==mov.vars.country?!0:isNaN(a)?!1:a.toString().length<3||a.toString().length>4?!1:this.isNumber(a)&&this.isLessThan(a,1e4)},isValidCpr:function(a,b){if(!b&&0==a.toString().length)return!0;var c=/^[0-9]*$/;return c.test(a)?10!=a.toString().length?!1:!0:!1},isValidCvr:function(a){var b=/^DK[0-9]*$/;return b.test(a)?10!=a.toString().length?!1:!0:!1},isValidNoPersonalId:function(a,b){if(!b&&0==a.toString().length)return!0;var c=/^[0-9]*$/;return c.test(a)?11!=a.toString().length?!1:!0:!1},isValidNoBusinessId:function(a){var b=/^[0-9]*$/;return b.test(a)?9!=a.toString().length?!1:!0:!1},isValidNif:function(a){var b=a.replace("-","").toUpperCase(),c=/^[A-Z0-9]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$|^[0-9]{8}[A-Z]{1}$/;return c.test(b)?9!=b.toString().length?!1:!0:!1},isEmpty:function(a){return null==a||void 0==a||void 0===typeof a||this.isArray(a)&&0===a.length?!0:!1},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},isEmptyString:function(a){return this.isEmpty(a)||""==$.trim(a)},isEmptySelect:function(a){return""==a.val()||"0"==a.val()},isset:function(a){return"undefined"!=typeof a&&void 0!==a&&"undefined"!==a?"string"==typeof a?a.length?!0:!1:"object"==typeof a?!0:!1:!0},isGreaterThan:function(a,b){return this.isNumber(a)&&this.isNumber(b)?parseFloat(a)>parseInt(b):!1},isGreaterThanEqual:function(a,b){return this.isNumber(a)&&this.isNumber(b)?parseFloat(a)>=parseInt(b):!1},isLessThan:function(a,b){return this.isNumber(a)&&this.isNumber(b)?parseInt(a)<parseInt(b):!1},isLessThanEqual:function(a,b){return this.isNumber(a)&&this.isNumber(b)?parseFloat(a)<=parseInt(b):!1},lengthBetween:function(a,b,c){return this.isNumber(a)&&this.isNumber(b)&&this.isNumber(c)?this.isGreaterThanEqual(a,b)&&this.isLessThanEqual(a,c):!1},isNumber:function(a){if(this.isEmptyString(a))return!1;var b=new Number(a);if(isNaN(b)||!isFinite(b))return!1;var c=/^[0-9]*(\.[0-9]+)?$/;return c.test(a)?!0:!1},isNumeric:function(a){return this.isNumber(a)}},mov.helper.util={characterMessage:"",urlencode:function(a){return a=(a+"").toString(),encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},urldecode:function(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))},updateJSON:function(a,b){for(var c in b)a[c]=b[c]},roundTwoDecimals:function(a){return(Math.round(100*a)/100).toFixed(2)},getObjectLength:function(a){if(Object.keys)return Object.keys(a).length;var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},getUrlParam:function(a){var b=window.location.href.match(new RegExp(a+"=[-a-zA-Z0-9]*","g"));return b?b[0].replace(a+"=",""):null},setCharacterMessage:function(a){this.characterMessage=a},limitPostLength:function(a,b){var c=this;if(!a||!b||"object"!=typeof a)return!1;if(void 0!=mov.helper.validate&&!mov.helper.validate.isNumber(b))return!1;if(!a.parent().next("span.characters-remaining").length){var d=$(a.closest(".textbox-container")[0]||a[0]);d.wrap('<div class="length-constraint-'+a.attr("id")+'" />');var e=$(".length-constraint-"+a.attr("id")),f=$('<span class="characters-remaining"></span>');return e.append(f),c.characterMessage.length||(c.characterMessage=mov.getInlineTranslation("text-mospace-characters-left")),"undefined"!=typeof a.val()&&f.html(b-a.val().length+" "+c.characterMessage),a.on("propertychange input paste",function(){var a=$(this).val().length,d=b-a;parseInt(d)<0&&(d=0),f.html(d+" "+c.characterMessage),a>b&&$(this).val($(this).val().substr(0,b))}),!0}},continuousFeed:function(a,b){mov._debug("mov.helper.util.continuousFeed()");var c=a,d=b;d.scroll(function(){var a=!1;if(!a){var b=d.scrollTop(),e=d.height(),f=d.offset().top,g=.2;b/(e-f)>g&&("function"==typeof c?c():(a=!0,mov._warn("Invalid callback passed to mov.helper.util.continuousLoad() No action will be triggered.")))}})},infiniteScroll:function(){var a=console.log("infinite scrolling triggered");return a},continuousLoad:function(a){mov._debug("mov.helper.util.continuousLoad()");var b=a;$(window).scroll(function(){var a=!1;if(!a){var c=$(window).scrollTop(),d=$(document).height(),e=$(window).height(),f=.9;c/(d-e)>f&&("function"==typeof b?b():(a=!0,mov._warn("Invalid callback passed to mov.helper.util.continuousLoad() No action will be triggered.")))}})},escapeHtmlEntities:function(a){return"undefined"!=typeof jQuery?jQuery("<div/>").text(a).html():a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},isSecure:function(){return"https:"==location.protocol},cleanImageUrl:function(a,b,c){return mov._debug("mov.helper.util.cleanImageUrl()"),/^(http:\/\/|https:\/\/|\/\/)/i.test(a)||(b?("/"===a.charAt(0)&&(a=a.substr(1)),a=assetUrl+a):"/"!==a.charAt(0)&&(a="/"+a)),b&&c&&"//"==a.substr(0,2)&&(a="http:"+a),a},utf8_encode:function(a){if(null===a||"undefined"==typeof a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;f>g;g++){var h=d.charCodeAt(g),i=null;if(128>h)c++;else if(h>127&&2048>h)i=String.fromCharCode(h>>6|192,63&h|128);else if(h&!0)i=String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128);else{if(h&!0)throw new RangeError("Unmatched trail surrogate at "+g);var j=d.charCodeAt(++g);if(j&!0)throw new RangeError("Unmatched lead surrogate at "+(g-1));h=((1023&h)<<10)+(1023&j)+65536,i=String.fromCharCode(h>>18|240,h>>12&63|128,h>>6&63|128,63&h|128)}null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e},md5:function(a){var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=mov.helper.util.utf8_encode(a),x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}},mov.helper.stash={$window:$(window),$document:$(document),$body:$(document.body),$html:$(document.documentElement),$htmlBody:$("body, html"),$content:$(document.getElementById("content-container")),$header:$(document.getElementById("hd")),$footer:$(document.getElementById("ft")),$siteNav:$(document.getElementById("hd-site-nav")),$authUser:$(document.getElementById("hd-auth-user")),$defaultModal:$(document.getElementById("mo-default-modal")),$defaultModalContent:$(document.getElementById("mo-default-modal--content")),DOM_head:document.head||document.getElementsByTagName("head")[0]},mov.helper.dom=function(){function a(a){try{throw new Error(a)}catch(b){console.error(b.stack)}}function b(b,c){return b?(" "+b.className+" ").indexOf(" "+c+" ")>-1:void a("Element undefined")}function c(d,e){if(!d)return void a("Element undefined");if("undefined"==typeof d.nodeType){for(var f=d.length-1;f>-1;f--)b(d[f],e)&&c(d[f],e);return d}return d.classList?d.classList.remove(e):d.className=d.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "),
d}function d(b,c){if(!b)return void a("Element undefined");if("undefined"==typeof b.nodeType){for(var e=b.length-1;e>-1;e--)d(b[e],c);return b}return b.classList?b.classList.add(c):b.className+=" "+c,b}function e(b){if(!b)return void a("Element undefined");if("undefined"==typeof b.nodeType){for(var c=b.length-1;c>-1;c--)e(b[c]);return b}return b.parentNode.removeChild(b)}function f(b,c){if(!b)return void a("Element undefined");if("undefined"==typeof b.nodeType){for(var d=b.length-1;d>-1;d--)f(b[d],c);return b}var e=document.createElement("div");for(e.innerHTML=c;e.firstChild;)b.appendChild(e.firstChild)}function g(a,b){return b||(b=document),document.getElementsByClassName?b.getElementsByClassName(a):document.querySelectorAll?b.querySelectorAll("."+a):(document.querySelectorAll=function(a){var b=document,c=b.documentElement.firstChild,d=b.createElement("STYLE");return c.appendChild(d),b.__qsaels=[],d.styleSheet.cssText=a+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),b.__qsaels},document.querySelectorAll("."+a))}function h(a,b){for(var c=a.length,d=0;c>d;d++)b.apply(a[d])}return{hasClass:b,removeClass:c,addClass:d,remove:e,appendElement:f,selectByClass:g,loop:h}}(),mov.helper.touch=function(){function a(a,b,c){if(k){var d=a.touches[0].pageX,e=a.touches[0].pageY,f=i-d,g=j-e;Math.abs(f)>Math.abs(g)&&(c.rightToLeft||c.leftToRight)?a.preventDefault():Math.abs(g)>Math.abs(f)&&(c.bottomToTop||c.topToBottom)&&a.preventDefault(),Math.abs(f)>=l?(i=null,k=!1,f>=0&&c.rightToLeft?c.rightToLeft():0>f&&c.leftToRight&&c.leftToRight()):Math.abs(g)>=m&&(i=null,k=!1,g>=0&&c.bottomToTop?c.bottomToTop():0>g&&c.topToBottom&&c.topToBottom())}}function b(a){1==a.touches.length&&(i=a.touches[0].pageX,j=a.touches[0].pageY,k=!0)}function c(c,d){"ontouchstart"in window&&(c instanceof jQuery==!1&&(c=$(c)),c.each(function(){this._attachedOnTouchMove=function(b){a(b,this,d),d.forceCompatibility&&b.preventDefault()},this.addEventListener("touchstart",b,!1),this.addEventListener("touchmove",this._attachedOnTouchMove,!1)}))}function d(a){"ontouchstart"in window&&(a instanceof jQuery==!1&&(a=$(a)),a.each(function(){this.removeEventListener("touchstart",b,!1),this.removeEventListener("touchmove",this._attachedOnTouchMove,!1),delete this._attachedOnTouchMove}))}function e(a){"undefined"!=typeof a&&"ontouchstart"in window&&(a instanceof jQuery&&(a=a[0]),a.addEventListener("scroll",g),a.addEventListener("touchend",h))}function f(a){"ontouchstart"in window&&(a instanceof jQuery&&(a=a[0]),a.removeEventListener("scroll",g),a.removeEventListener("touchend",h))}function g(){return n?!0:(n=!0,document.body.offsetWidth,void(document.body.style.overflow="hidden"))}function h(){return n?(n=!1,document.body.offsetWidth,void(document.body.style.overflow="")):!0}var i,j,k=!1,l=100,m=100,n=!1;return{onSwipe:c,detachOnSwipe:d,preventOuterScrolling:e,detachPreventOuterScrolling:f}}(),mov.helper.modal=function(){function a(){h=mov.helper.stash.$defaultModal,"undefined"!=typeof h[0]&&(i=h[0].className,j=$(document.getElementById("mo-default-modal--body")),k=mov.helper.stash.$defaultModalContent,l=$(document.getElementById("mo-default-modal--title")),g())}function b(){k.attr("style",""),l.hide(),h[0].className=i,j.html(""),o=!1,p=!1}function c(a){mov.helper.broadcast.trigger("modal-fired","undefined"!=typeof a?a.broadcastParameters:{}),h.on("shown.bs.modal",function(){"undefined"!=typeof a.onShown&&a.onShown(),mov.helper.broadcast.trigger("modal-shown",a.broadcastParameters),h.unbind("shown.bs.modal")}),p===!1&&h.on("hidden.bs.modal",function(){"undefined"!=typeof a.onHidden&&a.onHidden(),null!==m&&(n.appendChild(m),m=null,n=null),mov.helper.broadcast.trigger("modal-hidden",a.broadcastParameters),h.unbind("hidden.bs.modal"),b()}),"undefined"!=typeof a.title&&l.show().html(a.title),"undefined"!=typeof a.style&&k.attr("style",a.style),"undefined"!=typeof a.modalClass&&(h[0].className+=" mo-default-modal_"+a.modalClass)}function d(a,b){if("undefined"==typeof b&&(b={}),o){if(b.refreshes!==!0)return mov.helper.modal.closeCurrent(),void function(){setTimeout(function(){mov.helper.modal.loadUrl(a,b)},1e3)}(a,b);p=!0}o=!0,c(b),mov.helper.broadcast.trigger("modal-loading","undefined"!=typeof b?b.broadcastParameters:{}),j.load(a,function(){mov.helper.broadcast.trigger("modal-loaded","undefined"!=typeof b?b.broadcastParameters:{}),"undefined"!=typeof b.onSuccess&&b.onSuccess(),h.modal()})}function e(a,b){if("undefined"==typeof b&&(b={}),o){if(b.refreshes!==!0)return mov.helper.modal.closeCurrent(),void function(){setTimeout(function(){mov.helper.modal.loadContent(a,b)},1e3)}(a,b);p=!0}o=!0,c(b),"string"==typeof a?j.html(a):a&&a.tagName&&(m=a,n=a.parentNode,j[0].appendChild(a)),"undefined"!=typeof b.onSuccess&&b.onSuccess(),h.modal()}function f(){h.modal("hide")}function g(){if(mov.vars.client.isMobile){var a;mov.helper.broadcast.on("modal-fired",function(){a=document.body.scrollTop,mov.helper.misc.scrollTo(0,function(){mov.helper.stash.$body.addClass("position-fixed")})}),mov.helper.broadcast.on("modal-hidden",function(){mov.helper.stash.$body.removeClass("position-fixed"),mov.helper.misc.scrollTo(a)})}}var h,i,j,k,l,m=null,n=null,o=!1,p=!1;return{init:a,loadUrl:d,loadContent:e,closeCurrent:f}}(),mov.helper.formValidator=function(){function a(){jQuery.validator.setDefaults({onkeyup:!1,errorClass:"error-message",errorElement:"span",highlight:function(a){mov.helper.dom.removeClass(a,"valid"),mov.helper.dom.addClass(a,"error")},unhighlight:function(a){mov.helper.dom.removeClass(a,"error"),mov.helper.dom.addClass(a,"valid")},onfocusout:function(a){$(a).valid()}})}function b(a){a instanceof jQuery==!1&&(a=$(a)),a.validate({})}return{init:a,apply:b}}(),mov.helper.alertBoxes=function(){function a(){e=document.getElementById("mo-alert-boxes"),null!=e&&(e.error=document.getElementById("mo-alert-box_error"),e.error.closeBtn=document.getElementById("mo-alert-box_error--close-btn"),e.error.contentHost=document.getElementById("mo-alert-box_error--content-host"),e.error._isActive=!1,e.error.loadedMsgs=[],e.warning=document.getElementById("mo-alert-box_warning"),e.warning.closeBtn=document.getElementById("mo-alert-box_warning--close-btn"),e.warning.contentHost=document.getElementById("mo-alert-box_warning--content-host"),e.warning._isActive=!1,e.warning.loadedMsgs=[],e.info=document.getElementById("mo-alert-box_info"),e.info.closeBtn=document.getElementById("mo-alert-box_info--close-btn"),e.info.contentHost=document.getElementById("mo-alert-box_info--content-host"),e.info._isActive=!1,e.info.loadedMsgs=[],e.success=document.getElementById("mo-alert-box_success"),e.success.closeBtn=document.getElementById("mo-alert-box_success--close-btn"),e.success.contentHost=document.getElementById("mo-alert-box_success--content-host"),e.success._isActive=!1,e.success.loadedMsgs=[],$(e.error.closeBtn).click(function(){c({type:"error"})}),$(e.warning.closeBtn).click(function(){c({type:"warning"})}),$(e.info.closeBtn).click(function(){c({type:"info"})}),$(e.success.closeBtn).click(function(){c({type:"success"})}))}function b(a,b){if("undefined"==typeof b&&(b={}),"undefined"==typeof b.type&&(b.type="info"),"undefined"==typeof b.timer&&(b.timer=0),!(e[b.type].loadedMsgs.indexOf(a)>-1)){e[b.type].loadedMsgs.push(a);var f=e[b.type],g="info-circle";switch(b.type){case"error":g="times";break;case"warning":g="exclamation";break;case"success":g="check"}mov.helper.dom.appendElement(f.contentHost,'<div class="mo-alert-box--content-guest fa fa-'+g+'">'+a+"</div>"),f._isActive||mov.helper.dom.addClass(f,"active"),0!==b.timer&&setTimeout(function(){c({type:b.type})},b.timer),mov.helper.stash.$document.on("keyup",d),f._isActive=!0}}function c(a){if("undefined"==typeof a&&(a={}),"undefined"==typeof a.type)mov.helper.dom.removeClass(e.error,"active"),mov.helper.dom.removeClass(e.warning,"active"),mov.helper.dom.removeClass(e.info,"active"),mov.helper.dom.removeClass(e.success,"active"),e.error._isActive=!1,e.warning._isActive=!1,e.info._isActive=!1,e.success._isActive=!1,setTimeout(function(){e.error.contentHost.innerHTML="",e.warning.contentHost.innerHTML="",e.info.contentHost.innerHTML="",e.success.contentHost.innerHTML=""},800),mov.helper.stash.$document.off("keyup",d),e.error.loadedMsgs=[],e.warning.loadedMsgs=[],e.info.loadedMsgs=[],e.success.loadedMsgs=[];else{if(e[a.type]._isActive===!1)return;mov.helper.dom.removeClass(e[a.type],"active"),e[a.type]._isActive=!1,setTimeout(function(){e[a.type].contentHost.innerHTML=""},800),e.error._isActive||e.warning._isActive||e.info._isActive||e.success._isActive||mov.helper.stash.$document.off("keyup",d),e[a.type].loadedMsgs=[]}}function d(a){27===a.keyCode&&(c(),mov.helper.stash.$document.off("keyup",d))}var e;return{init:a,show:b,hide:c}}(),mov.helper.broadcast=function(){function a(a){var b=Array.prototype.slice.call(arguments);c.trigger(a,"undefined"!=typeof b[1]?b[1]:{})}function b(a,b){c.on(a,function(a,c){b.call(a,c)})}var c=$({});return{trigger:a,on:b}}(),mov.helper.overlay=function(){function a(){h=document.getElementById("mo-global-loading-overlay"),mov.helper.broadcast.on("modal-loading",mov.helper.overlay.showGlobalLoading),mov.helper.broadcast.on("modal-loaded",mov.helper.overlay.hideGlobalLoading)}function b(){mov.helper.dom.hasClass(h,"active")||(h.style.display="block",h.offsetWidth,mov.helper.dom.addClass(h,"active"),mov.helper.broadcast.trigger("global-loading-overlay-showed"))}function c(){mov.helper.dom.hasClass(h,"active")&&(mov.helper.dom.removeClass(h,"active"),setTimeout(function(){h.style.display="none",mov.helper.broadcast.trigger("global-loading-overlay-hidden")},300))}function d(){mov.helper.overlay.apply(mov.helper.stash.$defaultModalContent)}function e(){mov.helper.overlay.clear(mov.helper.stash.$defaultModalContent)}function f(a,b){var c=a instanceof jQuery?a:$(a);if("undefined"==typeof b)var b={type:"loading"};c.append('<div class="mo-overlay '+b.type+'-overlay"></div>'),c.children(".mo-overlay").each(function(){this.offsetWidth,mov.helper.dom.addClass(this,"active")})}function g(a){var b=a instanceof jQuery?a:$(a),c=b.children(".mo-overlay").removeClass("active");setTimeout(function(){c.remove()},300)}var h;return{init:a,apply:f,clear:g,showModalLoading:d,hideModalLoading:e,showGlobalLoading:b,hideGlobalLoading:c}}(),mov.helper.debug=function(){function a(c){if(b){var d=Array.prototype.slice.call(arguments);if("undefined"==typeof d[1])var e=5;else var e=d[1];var f=c.split(".");if(1===f.length)var g=window[f[0]];else if(2===f.length)var g=window[f[0]][f[1]];else if(3===f.length)var g=window[f[0]][f[1]][f[2]];else if(4===f.length)var g=window[f[0]][f[1]][f[2]][f[3]];else if(5===f.length)var g=window[f[0]][f[1]][f[2]][f[3]][f[4]];else if(6===f.length)var g=window[f[0]][f[1]][f[2]][f[3]][f[4]][f[5]];if(!("undefined"==typeof g||0===e||g instanceof jQuery||g===window))for(var h in g)"function"==typeof g[h]?(console.log("Auto logging enabled: "+c+"."+h),g[h]=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);console.log(b+"("+c.join(", ")+")"),a.apply(this,c)}}(g[h],c+"."+h)):a(c+"."+h,e-1)}}var b=!1;return{autoLog:a}}(),mov.helper.misc=function(){function a(a,b){var c={};c.duration=600,a instanceof jQuery?mov.helper.stash.$htmlBody.animate({scrollTop:a.offset().top},c):"number"==typeof a?mov.helper.stash.$htmlBody.animate({scrollTop:a},c):mov.helper.stash.$htmlBody.animate({scrollTop:$(a).offset().top},c),"undefined"!=typeof b&&setTimeout(b,c.duration+20)}function b(a,b,c){"undefined"==typeof c&&(c={}),a instanceof jQuery&&(a=a[0]),c.handlerId="undefined"==typeof c.handlerId?p++:c.handlerId;var d=function(a){b(a),c.permanent!==!0&&(q[c.handlerId]&&(mov.helper.stash.$document.off("click",q[c.handlerId]),"ontouchstart"in window&&(s=!1,document.removeEventListener("touchend",q[c.handlerId])),delete q[c.handlerId],"ontouchstart"in window&&mov.helper.validate.isEmptyObject(q)&&document.removeEventListener("touchmove",t)),c.handleEscKeypress===!0&&r[c.handlerId]&&(mov.helper.stash.$document.off("keyup",r[c.handlerId]),delete r[c.handlerId]))};"ontouchstart"in window&&mov.helper.validate.isEmptyObject(q)&&document.addEventListener("touchmove",t),q[c.handlerId]=function(b){return q[c.handlerId]?s?void(s=!1):void(b.target===a||$.contains(a,b.target)||(c.ignoreElement instanceof jQuery&&(c.ignoreElement=c.ignoreElement[0]),(!c.ignoreElement||b.target!==c.ignoreElement&&!$.contains(c.ignoreElement,b.target))&&d(b))):void 0},mov.helper.stash.$document.on("click",q[c.handlerId]),"ontouchstart"in window&&(s=!1,document.addEventListener("touchend",q[c.handlerId])),c.handleEscKeypress===!0&&(r[c.handlerId]=function(a){27===a.keyCode&&d(a)},mov.helper.stash.$document.on("keyup",r[c.handlerId]))}function c(a){"function"==typeof q[a.handlerId]&&(mov.helper.stash.$document.off("click",q[a.handlerId]),"ontouchstart"in window&&(s=!1,document.removeEventListener("touchend",q[a.handlerId]),mov.helper.validate.isEmptyObject(q)&&document.removeEventListener("touchmove",t)),delete q[a.handlerId]),"function"==typeof r[a.handlerId]&&(mov.helper.stash.$document.off("keyup",r[a.handlerId]),delete r[a.handlerId])}function d(a){var b=a instanceof jQuery?a:$(a);b.attr("tabindex",-1).on("blur focusout",u).focus()}function e(a,b){if(b||(b={}),"string"==typeof a&&(a=[a]),!b.isExternal)for(var c=a.length-1;c>=0;c--)"/"===a[c].charAt(0)&&(a[c]=a[c].substr(1)),a[c]=mov.vars.assetUrl+a[c]+"?"+mov.vars.appVersion;$LAB.setOptions({AlwaysPreserveOrder:!0}).script(a).wait(b.onLoaded||function(){})}function f(){windowScrollTop=window.pageYOffset||document.documentElement.scrollTop;for(o in w)!y[o]._fired&&windowScrollTop<w[o]&&(y[o](),y[o]._continuous||(y[o]._fired=!0,x[o]._fired=!1)),!x[o]._fired&&windowScrollTop>=w[o]&&(x[o](),y[o]._continuous||(x[o]._fired=!0,y[o]._fired=!1))}function g(a){if("undefined"!=typeof a&&"undefined"!=typeof a.id&&"undefined"!=typeof a.scrollTop){if("undefined"==typeof a.aboveFn&&(a.aboveFn=function(){}),"undefined"==typeof a.belowFn&&(a.belowFn=function(){}),!v){if(mov.vars.client.isMobile===!1)mov.helper.stash.$window.scroll(f);else{var b,c=function(){clearTimeout(b),b=setTimeout(f,200)};mov.helper.stash.$window.scroll(c)}v=!0}w[a.id]=a.scrollTop,y[a.id]=a.aboveFn,x[a.id]=a.belowFn,y[a.id]._fired=!1,x[a.id]._fired=!1,a.continuous===!0&&(y[a.id]._continuous=!0),f()}}function h(a){"undefined"!=typeof a.id&&"undefined"!=typeof w[a.id]&&(delete w[a.id],delete x[a.id],delete y[a.id])}function i(a){"undefined"!=typeof a.id&&"undefined"!=typeof a.scrollTop&&"undefined"!=typeof w[a.id]&&(w[a.id]=a.scrollTop,f())}function j(a,b){var c;if(b||(b={}),"string"==typeof a){if(m(a))return void(b.onLoaded&&b.onLoaded());c=k(a),b.onLoaded&&l(c,b.onLoaded)}else for(var d=a.length,e=0;e<a.length;e++)m(a[e])?0===--d&&b.onLoaded&&b.onLoaded():(c=k(a[e]),b.onLoaded&&l(c,function(){0===--d&&b.onLoaded()}))}function k(a){"/"===a.charAt(0)&&(a=a.substr(1));var b=document.createElement("link");return b.type="text/css",b.href=mov.vars.assetUrl+a+"?"+mov.vars.appVersion,b.setAttribute("media","screen"),b.setAttribute("rel","stylesheet"),mov.helper.stash.DOM_head.appendChild(b),b}function l(a,b){a.addEventListener?a.addEventListener("load",b):a.attachEvent&&a.attachEvent("load",b)}function m(a){return z.indexOf(a)>-1?!0:(z.push(a),!1)}function n(a){function b(){clearTimeout(e),e=setTimeout(function(){var e,f,g;c?(e=mov.helper.stash.$window.scrollTop(),f=mov.helper.stash.$body.height(),g=f-mov.helper.stash.$window.height()-300):(e=d.scrollTop(),f=d.prop("scrollHeight"),g=f-400),e>=g&&(a.callback(),d.off("scroll",b))},500)}if("undefined"==typeof a)return!1;var c,d;"undefined"==typeof a.container?(d=mov.helper.stash.$window,c=!0):(a.container instanceof jQuery==!1&&(a.container=$(a.container)),d=a.container,c=!1);var e;d.on("scroll",b)}var o,p=0,q={},r={},s=!1,t=function(){s=!0},u=function(){$(this).removeAttr("tabindex").off("blur focusout",u)},v=!1,w={},x={},y={},z=[];return{scrollTo:a,attachClickAwayHandler:b,removeClickAwayHandler:c,forceElementFocus:d,requireScript:e,attachParallax:g,detachParallax:h,updateParallax:i,infiniteScroll:n,requireStylesheet:j}}(),mov.helper.storage=function(){function a(a){return{get:function(b){return c[a][b]},set:function(b,d){c[a][b]=d},remove:function(b){delete c[a][b]},contains:function(b){return b in c[a]}}}function b(a,b){c[a]=b}var c={};return{fetch:a,create:b}}(),mov.helper.api=function(){function a(a,b,c,d){var e=d,f=$.get("/api/"+a+"/"+b+"/"+c,{});f.done(function(a){"function"==typeof e&&e(a)}),f.error(function(a){"function"==typeof e&&e(a)})}function b(a,b,c){var d=mov.vars.baseUrlApi,e=$.post(d+a,b);f(e,c)}function c(a,b,c){var d=mov.vars.baseUrlApi,e=$.ajax({type:"PUT",url:d+a,data:JSON.stringify(b),contentType:"application/json",dataType:"json"});f(e,c)}function d(a,b,c){var d=mov.vars.baseUrlApi,e=$.get(d+a,b);f(e,c)}function e(a,b,c){var d=mov.vars.baseUrlApi,e=$.ajax({url:d+a,type:"DELETE",dataType:"json",data:b});f(e,c)}function f(a,b){$.isFunction(b)?a.done(b):$.isPlainObject(b)&&("done"in b&&a.done(b.done),"fail"in b&&a.fail(b.fail),"always"in b&&a.always(b.always))}return{del:e,get:d,post:b,put:c,call:a}}(),mov.site.global=function(){function a(){mov.helper.modal.init(),mov.helper.alertBoxes.init(),mov.helper.overlay.init(),mov.helper.formValidator.init(),mov.site.shims.init(),mov.site.mediaQuery.init(),mov.site.tooltip.init(),mov.site.fullPageCache.init(),mov.site.misc.init(),mov.layout.header.init(),mov.layout.header_search.init(),mov.layout.header_notifications.init(),mov.layout.header_login.init(),mov.layout.header_languages.init(),mov.layout.siteNav.init(),mov.layout.footer.init(),mov.widget.shareWidgets.init(),mov.widget.templateWidgets.init(),mov.helper.stash.$window.resize(b).load(c),mov.helper.stash.$document.ready(d)}function b(){clearTimeout(e),e=setTimeout(function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;mov.helper.broadcast.trigger("window-resized",{horizontalResize:a!==f,verticalResize:b!==g}),f=a,g=b},500)}function c(){}function d(){}var e,f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{init:a}}(),mov.site.shims=function(){function a(){b(),c(),e()}function b(){Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}function c(){mov.vars.client.isLtie10&&mov.helper.misc.requireScript("assets/vendor/custom/infield-label/jquery.infield-label.js",{onLoaded:function(){d()}})}function d(){if(mov.vars.client.isLtie10){var a=$("input"),b=$("textarea").add(a.filter("[type=text]").add(a.filter("[type=password]").add(a.filter("[type=email]").add(a.filter("[type=tel]")))));b.infieldPlaceholders()}}function e(){mov.vars.client.isLtie9&&(f(),mov.helper.broadcast.on("modal-loading",f),mov.helper.broadcast.on("global-loading-overlay-showed",f),mov.helper.broadcast.on("site-search-panel-hidden",f),mov.helper.broadcast.on("site-search-panel-showed",f),mov.helper.broadcast.on("language-bar-showed",f))}function f(){mov.helper.dom.addClass(document.documentElement,"force-font-icon-refresh"),setTimeout(function(){mov.helper.dom.removeClass(document.documentElement,"force-font-icon-refresh")},0)}return{init:a,refreshPlaceholders:d}}(),mov.site.mediaQuery=function(){function a(){b(),mov.helper.broadcast.on("window-resized",b)}function b(){mov.vars.currentMediaQuery=function(){return"block"===d.css("display")?"md":"block"===e.css("display")?"sm":"block"===f.css("display")?"xs":"lg"}()}function c(a){if(mov.vars.client.isPortable){g||(g=$(mov.helper.stash.DOM_head).find('meta[name="viewport"]'),h=g.attr("content"));var b=g.attr("content");a&&b.indexOf("user-scalable=no")>-1?g.attr("content",b.replace("user-scalable=no","user-scalable=yes").replace("width=device-width, ","")):!a&&b.indexOf("user-scalable=yes")>-1&&g.attr("content",h)}}var d=$(document.getElementById("js-media-query-detector_md")),e=$(document.getElementById("js-media-query-detector_sm")),f=$(document.getElementById("js-media-query-detector_xs")),g=null,h=null;return{init:a,setViewportUserScalable:c}}(),mov.site.tooltip=function(){function a(){$.fn.tooltip.Constructor.DEFAULTS.placement="right",n="xs"===mov.vars.currentMediaQuery?{container:"body",placement:"top"}:{container:"body"},mov.site.tooltip.refreshMainContentTooltips(),mov.site.tooltip.refreshModalTooltips(),mov.helper.broadcast.on("modal-fired",mov.site.tooltip.hideAllTooltips),mov.helper.broadcast.on("modal-shown",mov.site.tooltip.refreshModalTooltips),mov.helper.broadcast.on("modal-hidden",mov.site.tooltip.refreshModalTooltips),mov.helper.broadcast.on("samurai-active",mov.site.tooltip.initAllTooltips)}function b(){o=$(".show-tooltip"),p=$(".show-popover"),o.tooltip(n),p.popover(n)}function c(){j=mov.helper.stash.$content.find(".show-tooltip"),k=mov.helper.stash.$content.find(".show-popover"),j.tooltip(n),k.popover(n).on("click",f)}function d(){l=mov.helper.stash.$defaultModal.find(".show-tooltip"),m=mov.helper.stash.$defaultModal.find(".show-popover"),l.tooltip(n),m.popover(n).on("click",f)}function e(){q&&(j.tooltip("hide"),k.popover("hide"),l.tooltip("hide"),m.popover("hide"),"undefined"!=typeof o&&o.tooltip("hide"),"undefined"!=typeof p&&p.popover("hide"),g())}function f(){q=!0,mov.helper.stash.$html.on("click",h)}function g(){q=!1,mov.helper.stash.$html.off("click",h)}function h(a){"undefined"==typeof $(a.target).data("original-title")&&e()}function i(){var a=["giftaid-0","receipt_method-email"],b="text",c=$();$.each($(".js-add-tooltip"),function(){var d=$(this);if(!d.data("tooltip-added")&&(d.data("tooltip-added",!0),-1==$.inArray(d.attr("id"),a))){var e=d.attr("data-tooltip-ref");d.attr("data-tooltip-render-type")&&(b=d.attr("tooltip_render_type")),"radio"==d.attr("type")&&(e=e.replace("REPLACE",d.val()));var f=baseUrl+"donate/tooltip/ref/"+e+"/type/"+b,g=$('<a class="action-icon action-icon-help mo-question-empty" data-toggle="popover" href="javascript:void(0);" ref="'+f+'" ><span lang="en" class="visually-hidden">Help</span></a>');c=c.add(g);var h=$(),i=d,j=[".form_element_label",".form_element_input:not(:contains(input[type=checkbox,type=radio]))",".ff-field .ff-label",".ff-control:not(:contains(input[type=checkbox,type=radio]))",".ff-checkbox_control label",".ff-radio_control label",".ff-multicheckbox_control label",".ff-radios label",".this-or-that-container-with-tooltip"].join(", "),k=[".form_element_input",".ff-control"].join(", "),l=["a"].join(", ");if(d.closest(l)&&(h=d.closest(l).last()),d.closest(k).parent().find(j).length&&(i=d.closest(k).parent().find(j).last()),h.length)h.after(g);else if(i.length){i.append(g);var m=i.children(".form_element_errors, .ff-errors").first();i.append(m)}}}),c.each(function(){var a=$(this),b=a.attr("ref");b&&$.ajax({url:b,success:function(b){a.popover({container:"body",html:!0,content:b,placement:"xs"===mov.vars.currentMediaQuery?"bottom":"right"})},error:function(){a.remove()}})});var d=!1;c.on("click",function(){d||(d=!0,mov.helper.stash.$body.on("click",function(a){"undefined"!=typeof $(a.target).data("original-title")||$(a.target).parents().is(".popover.in")||$("[data-original-title]").popover("hide")}))})}var j,k,l,m,n,o,p,q=!1;return{init:a,hideAllTooltips:e,initAllTooltips:b,refreshMainContentTooltips:c,refreshModalTooltips:d,initAjaxTooltips__deprecating:i}}(),mov.site.googleAnalytics=function(){function init(a){"undefined"!=typeof a&&(_category=a),bindings()}function bindings(){$(".ga_track").click(function(){prepareAndtrack($(this))}),$(".ga-track-form").each(function(){var a=$(this).data("ga-form-inputs");a&&(a.replace(/\s+/g," "),a.indexOf(",")>-1?arr_fields=a.split(","):(arr_fields=[],arr_fields.push(a)),$.each(arr_fields,function(a,b){var c=$("#"+b);"checkbox"==c.attr("type")||"radio"==c.attr("type")?c.change(function(){prepareAndtrack(c)}):c.focus(function(){prepareAndtrack(c)})}))})}function prepareAndtrack(field){field.data("ga-category")&&(_category=field.data("ga-category")),field.data("ga-custom")&&pushCustomDimension(field.data("ga-custom-slot"),field.data("ga-custom-value"),field.data("ga-custom"));var label="";label=field.data("ga-callback")?eval(field.data("ga-callback")+"( field )"):field.data("ga-label"),trackEventAction(field.data("ga-action"),label,field.data("ga-value"))}function pushCustomDimension(a,b,c){return ga?void(mov.debugMode?mov._debug("ga('set','dimension' + "+a+", "+b+");"):($.cookie("ga-registration-"+c,b),ga("set","dimension"+a,b))):!1}function trackEventAction(a,b,c){return ga?("undefined"==typeof c&&(c=0),void(mov.debugMode?mov._debug("ga('send','event',"+_category+", "+a+", "+b+", "+c+");"):ga("send","event",_category,a,b,c))):!1}function getGenderValue(a){return"f"==a.val()?"mosista":"m"==a.val()?"mobro":void 0}function trackPageview(a,b){b&&("gb"==b&&(b="uk"),a="/"+b+a),"undefined"!=typeof a&&(mov.debugMode?mov._debug("ga('send', 'pageview', {'page': "+a+" })"):ga("send","pageview",{page:a}))}var _category="movember";return{init:init,trackPageview:trackPageview,getGenderValue:getGenderValue,bindings:bindings,prepareAndtrack:prepareAndtrack,trackEventAction:trackEventAction,pushCustomDimension:pushCustomDimension}}(),mov.site.kissMetrics=function(){function a(){"undefined"!=typeof _kmGlobalProperties&&(d=_kmGlobalProperties),mov._debug("kissmetrics js fired up"),b()}function b(){$("a.process-donation").click(function(){c("donation payment confirmed",mov.donate.getDonationAttemptParams())}),$("input[name=donationAmount]").change(function(){mov._debug("km: donate - amount change: "+$(this).val()),c("donation started",{"donation amount":$(this).val()})}),$("form#donation-search-form #dosubmit").click(function(){mov._debug("km: done - search submit"),c("donation search for member or team",{"donation search":$("form#donation-search-form #search").val()})}),$("map#firsttime-slide_image-map #firsttime-slide_map-register").click(function(){c("home page splash tile",{tile:"first-time",reference:"register-link"})}),$("map#firsttime-slide_image-map #firsttime-slide_map-donate").click(function(){c("home page splash tile",{tile:"first-time",reference:"donate-link"})}),$("#tile-ytplayer-overlay a").click(function(){c("home page splash tile",{tile:$("#tile-ytplayer-overlay").attr("data-source-tile-id"),reference:$("#tile-ytplayer-overlay").attr("data-video-url")})}),$("div.splash-tile").each(function(){$(this).click(function(){var a=parseInt($(this).attr("id").replace(/\D/g,"")),b=$(this).find("a").attr("href");"undefined"==typeof b&&(b="tile "+a),a>0&&c("home page splash tile",{tile:a,reference:b})})}),$(document).ready(function(){$(".fb-share-button").click(function(){mov.site.kissMetrics.trackEventAction("social media share",{"social media share":"facebook"})})}),$("div.register-form a.js-facebook-login").click(function(){c("rego s1 - started using facebook",{})}),$("div.register-form input#register_email").change(function(){setTimeout(function(){$("div.register-form input#register_email").parent().hasClass("error")||c("rego s1 - started using email",{})},500)}),$("div.register-form input#register_firstname").change(function(){if($(this).val()&&$(this).val().length>0){var a={reactivated:""!=$("div.register-form input#reactivate").val()?"Yes":"No"};c("rego s2 - firstname entered",a)}})}function c(a,b){if("undefined"==typeof _kmq)return mov._debug("km: no kmq for trackEventAction "+a),!1;"undefined"==typeof b&&(b={});try{var c=$.extend({},d,b);_kmq.push(["record",a,c]),mov._debug("_kmq.push(['record', '"+a+"', "+$.extend({},d,b)+" ]);")}catch(e){mov._debug("error"+e),mov._debug("error in km.trackEventAction: "+e)}}var d={};return{init:a,trackEventAction:c}}(),mov.site.fullPageCache=function(){function a(){mov.entity.member.isLoggedIn()?mov.helper.dom.addClass(document.body,"user-logged-in"):mov.helper.dom.addClass(document.body,"user-logged-out")}return{init:a}}(),mov.site.misc=function(){function a(){d(),c(),b()}function b(){mov.helper.stash.$content.find(".js-needs-login").click(function(){return mov.layout.header_login.forceLogin({customRedirect:this.href}),!1})}function c(){"addEventListener"in document&&"ontouchstart"in window&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.getElementById("hd"))},!1)}function d(){mov.vars.client.isLtie8&&mov.helper.stash.$header.hide()}function e(){$("#browser-not-supported-container").hide(),mov.helper.stash.$header.show(),$.cookie("browser-nosupport-hide","1",{expires:7,path:"/"})}return{init:a,hideBrowserNotSupportedMessage:e}}(),mov.entity.member=function(){function a(){return l.id?l.id:($.cookie(mov.vars.cookieName+"_id")&&$.cookie(mov.vars.cookieName+"_id").length&&(l.id=$.cookie(mov.vars.cookieName+"_id")),l.id)}function b(){return l.fullname?l.fullname:($.cookie(mov.vars.cookieName+"_name")?"object"==typeof mov.helper.util&&(l.fullname=mov.helper.util.urldecode($.cookie(mov.vars.cookieName+"_name"))):l.fullname="",l.fullname)}function c(){return l.team_id?l.team_id:(l.team_id=$.cookie(mov.vars.cookieName+"_teamId")&&$.cookie(mov.vars.cookieName+"_teamId").length?$.cookie(mov.vars.cookieName+"_teamId"):0,l.team_id)}function d(){return mov.baseUrl+"mospace/team/"+c()}function e(a){if(a){var b=$.parseJSON($.cookie(mov.vars.cookieName+"_profile_pics"));if(b&&"undefined"!==b&&"undefined"!=typeof b[a])return assetUrl+b[a]}if(l.picture)return l.picture;var c=mov.helper.util.urldecode($.cookie(mov.vars.cookieName+"_pic"));return c&&c.length?"object"==typeof mov.helper.util&&(l.picture=mov.helper.util.urldecode(c.substr(0,assetUrl.length)==assetUrl?$.cookie(mov.vars.cookieName+"_pic"):assetUrl+$.cookie(mov.vars.cookieName+"_pic"))):l.picture=!1,l.picture}function f(){return null===m&&(m=$.cookie(mov.vars.cookieName+"_logged")),m}function g(){window.location.href=baseUrl+"auth/logout/?facebook=true"}function h(a){a=$.trim(a.replace(assetUrl,"")),l.picture=mov.helper.util.urlencode(a),$.cookie(mov.vars.cookieName+"_pic",a,{path:"/",domain:mov.vars.cookieDomain})}function i(a,b){l[a]=b}function j(b,c){var d=[];if(c||(c={}),"string"==typeof b)"undefined"==typeof l[b]&&d.push(b);else if(b instanceof Array)for(var e=b.length,f=0;e>f;f++)l[b[f]]||d.push(b[f]);d.length>0?mov.helper.api.get("member",{id:a()},{done:function(a){for(var b=0;b<d.length;b++)"undefined"!=typeof d[b]&&(l[d[b]]=a[d[b]]);c.done&&c.done(l)},fail:function(a){c.fail&&c.fail(a)},always:function(a){c.always&&c.always(a)}}):(c.done&&c.done(l),c.always&&c.always())}function k(b,c){c||(c={}),mov.helper.api.put("member/id/"+a(),b,{done:function(a){mov.helper.util.updateJSON(l,b),c.done&&c.done(a)},fail:function(a){c.fail&&c.fail(a)},always:function(a){c.always&&c.always(a)}})}var l={},m=null;return{getFullName:b,getId:a,getProfilePicture:e,getTeamId:c,getTeamUrl:d,isLoggedIn:f,setProfilePicture:h,setData:i,logout:g,data_get:j,data_set:k}}(),mov.entity.team=function(){function a(){c(),b(),d(),h=$(".js-join-team-button")}function b(){return mov.gallery?(mov.gallery.fixUrlsForDebugging(null,$(".image-thumbnail")),void(i=mov.gallery.createFancyboxGalleryWithAjaxPaging({mediaLinks:".js-gallery-thumbnail a"}))):!1}function c(){mov.helper.stash.$content.find(".fancybox, .fancybox-show-team").on("click",function(){return mov.helper.modal.loadUrl(this.href),!1})}function d(){mov.helper.stash.$content.find(".team-paginator").on("click",function(){var a=$(this).attr("data-teamid"),b=$(this).attr("data-page");e(a,b)}),
mov.helper.stash.$content.find(".pending-requests-team").length&&(mov.mospace.initMemberManagementControls("team"),mov.mospace.refreshPendingList())}function e(a,b){mov._debug("mov.entity.team.paginator("+a+","+b+")");var c=mov.helper.stash.$content.find(".team-details-wrapper");if(mov.helper.validate.isNumeric(a)&&mov.helper.validate.isNumeric(b)||mov._warn("Whoah nelly, got some dud data passed to the paginator for team results there..."),mov.helper.overlay.apply(c),g[a]){if(g[a][b])return c.replaceWith(g[a][b]),void mov.helper.overlay.clear(c)}else g[a]={};$.get(baseUrl+"register/team-details-ajax/id/"+a+"/page/"+b,function(d){c.replaceWith(d),mov.helper.overlay.clear(c),g[a]&&(g[a][b]||(g[a][b]=d))})}function f(a,b){mov._debug("mov.entity.team.joinTeam("+a+","+b+")");var c=JSON.stringify({teamId:a,memberId:b});h.addClass("loading"),mov.helper.api.post("team-member",c,function(a){return 1!=a.result?(h.removeClass("loading"),mov.helper.modal.loadContent("<p>"+a.message+"</p>"),!1):(mov._debug(a),void(window.location.href=baseUrl+"mospace/team/"))})}var g={},h=$(),i=null;return{init:a,joinTeam:f}}(),mov.entity.network=function(){function a(){k=$(".js-join-network-button"),b()}function b(){$(".pending-requests-network").length&&(mov.mospace.initMemberManagementControls("network"),mov.mospace.refreshPendingList())}function c(a){l=a}function d(){return null===l?e():l}function e(){return $(".js-network-id").length?$(".js-network-id").attr("data-network-id"):null}function f(){return $(".js-network-id").attr("data-netid")}function g(){j.hide()}function h(){j.show()}function i(a,b,c){mov._debug("mov.entity.team.joinNetwork("+a+", "+b+", "+c+")");var d=JSON.stringify({networkId:a,memberId:b,teamId:c});$(".js-join-network-modal").length&&mov.helper.modal.closeCurrent(),k.length&&$("#join-network"+a).addClass("loading"),mov.helper.api.post("network-member",d,function(b){return 1!=b.result?(k.length&&$("#join-network"+a).removeClass("loading"),mov.helper.modal.loadContent("<p>"+b.message+"</p>"),!1):(mov._debug(b),void(window.location.href=baseUrl+"mospace/network/view/id/"+a))})}var j=$(),k=$(),l=null;return{init:a,joinNetwork:i,showModalErrors:h,hideModalErrors:g,getModalNetworkId:f,getNetworkId:d,setNetworkId:c}}(),mov.layout.header=function(){function a(){if(i=mov.helper.stash.$authUser,j=$(document.getElementById("hd-auth-user--label")),k=$(document.getElementById("hd-auth-user--dropdown")),b(),h(),mov.helper.misc.attachParallax({id:"hd-shrink",aboveFn:function(){mov.helper.stash.$header.removeClass("shrinked")},belowFn:function(){mov.helper.stash.$header.addClass("shrinked")},scrollTop:120}),mov.vars.client.isDesktop){var a=!1;i.hover(function(){c(),a=!0},function(){d(),a=!1}),j.click(function(b){a||(c(),a=!0,b.preventDefault())})}else j.click(function(a){e(),a.preventDefault()})}function b(){mov.entity.member.isLoggedIn()&&(mov.entity.member.getProfilePicture()&&i.find(".js-profile-picture").attr("src",mov.entity.member.getProfilePicture("tiny")),mov.entity.member.getFullName()&&i.find(".js-profile-name").text(mov.entity.member.getFullName()));var a=mov.helper.dom.selectByClass("hd-other--block",mov.helper.stash.$header[0]);mov.helper.dom.loop(a,function(){mov.helper.dom.addClass(this,"initially-hidden_transitioning")}),setTimeout(function(){mov.helper.dom.loop(a,function(){mov.helper.dom.removeClass(this,"initially-hidden"),mov.helper.dom.removeClass(this,"initially-hidden_transitioning")})},600)}function c(){l||(k.addClass("active"),mov.helper.misc.attachClickAwayHandler(k,d,{handleEscKeypress:!0,handlerId:"hd-user-nav",ignoreElement:i}),j.attr("aria-expanded","true"),l=!0)}function d(){l&&(k.removeClass("active"),mov.helper.misc.removeClickAwayHandler({handlerId:"hd-user-nav"}),j.attr("aria-expanded","false"),l=!1)}function e(){l?d():c()}function f(){var a=$("#edit-yourDetails-firstname").html()+" "+$("#edit-yourDetails-lastname").html();a.length?mov.entity.member.setData("fullname",a):a=mov.entity.member.getFullName(),i.find(".js-profile-name").text(a).html()}function g(a){if(mov._debug("mov.entity.member.refreshProfilePicture()"),!a){var b=$(document.getElementById("js-profile-pic"));if(b.length)return void mov._warn("Unable to determine the source of this members profile picture");var a=b.attr("src").replace("hero","tiny")}a&&(mov.entity.member.setProfilePicture(mov.helper.util.urlencode(a)),i.find(".js-profile-picture").attr("src",assetUrl+a))}function h(){var a=$(document.getElementById("hd-popup-btn_site-nav")),b=a.find(".hd-popup-btn_site-nav--icon"),c=$(document.getElementById("hd-popup-btn_search")),d=c.find(".hd-popup-btn_search--icon");a.click(function(a){mov.layout.siteNav.toggleSiteNavVisibility(),a.preventDefault()}),c.click(function(a){mov.layout.header_search.toggleSearchPanelVisibility(),a.preventDefault()}),mov.helper.broadcast.on("site-search-panel-hidden",function(){c.attr("aria-expanded","false"),d.toggleClass("active")}),mov.helper.broadcast.on("site-search-panel-showed",function(){c.attr("aria-expanded","true"),d.toggleClass("active")}),mov.helper.broadcast.on("side-site-nav-hidden",function(){a.attr("aria-expanded","false"),b.toggleClass("active")}),mov.helper.broadcast.on("side-site-nav-showed",function(){a.attr("aria-expanded","true"),b.toggleClass("active")})}var i,j,k,l=!1;return{init:a,refreshUserNavigation:f,refreshProfilePicture:g}}(),mov.layout.header_search=function(){function a(){i=document.getElementById("hd-site-search"),j=$(i),k=$(document.getElementById("hd_search-input")),l=j.find(".js-search-autocomplete-dropdown"),m=l.find(".js-search-autocomplete"),k.on("keyup",function(a){13==a.keyCode?p&&p.abort():n=setTimeout(h,100)}),m.updownKeys({input:k}),k.on("keydown",function(a){clearTimeout(n),40!==a.which||s||(h(a),m.updownKeys("setSelectedItem",null),a.preventDefault())}),j.find(".js-global-search-form").submit(function(){return window.location.href=nsBaseUrl+"mospace/index/search/?q="+encodeURIComponent(k.val()),!1})}function b(){r||(mov.helper.dom.addClass(i,"active"),mov.helper.misc.attachClickAwayHandler(i,c,{handleEscKeypress:!0,handlerId:"hd-site-search",ignoreElement:document.getElementById("hd-popup-btn_search")}),setTimeout(function(){!mov.vars.client.isPortable&&r&&mov.helper.misc.forceElementFocus(k)},600),r=!0,mov.helper.broadcast.trigger("site-search-panel-showed"))}function c(){r&&(mov.helper.dom.removeClass(i,"active"),mov.helper.misc.removeClickAwayHandler({handlerId:"hd-site-search"}),r=!1,mov.helper.broadcast.trigger("site-search-panel-hidden"))}function d(){r?c():b()}function e(){s||(l.addClass("active"),mov.helper.misc.attachClickAwayHandler(l,f,{handleEscKeypress:!0,handlerId:"hd-search-autocomplete",ignoreElement:k}),s=!0)}function f(){s&&(l.removeClass("active"),mov.helper.misc.removeClickAwayHandler({handlerId:"hd-search-autocomplete"}),s=!1)}function g(a){p&&4!=p.readyState&&p.abort(),k.addClass("loading"),s&&f(),p=$.ajax({type:"POST",url:baseUrl+"mospace/index/auto/",data:encodeURI("q="+a.q+"&page=1&n=3"),cache:!1}).done(function(a){l[0].scrollTop=0,m.html(a).updownKeys("refresh"),e()}).always(function(){k.removeClass("loading")})}function h(){var a=k.val();if(a!==q){o&&clearTimeout(o);var b={};b.q=a,b.q&&b.q.length>=3&&(p&&"pending"==p.state()&&p.abort(),g(b)),q=a}}var i,j,k,l,m,n,o=null,p=null,q=null,r=!1,s=!1;return{init:a,toggleSearchPanelVisibility:d}}(),$.updownKeys=new function(){var a=this;a.setSelectedItem=function(b,c){var d=b.data("updownKeys"),e=d.state;e.$selectedItem=$(c),a.repaint(b)},a.getSelectedItem=function(a){if(null===typeof a)return null;var b=a.data("updownKeys"),c=b.state;return c.$selectedItem},a.reset=function(b){var c=b.data("updownKeys"),d=c.state;d.$items=$(d.itemsSelector),d.$selectedItem=$(),a.repaint(b)},a.repaint=function(a){var b=a.data("updownKeys"),c=b.state;c.$items.not(c.$selectedItem).removeClass(c.selectedItemCssClass),c.$selectedItem.addClass(c.selectedItemCssClass)},a.init=function(b,c){var d={input:null,itemsSelector:".js-updownkeys-item",selectedItemCssClass:"selected",onItemKeyEnter:function(a,b){var c=$(b),d=c.attr("href");d&&d.length&&(window.location.href=d)}};$.extend(d,c);var e={input:d.input,itemsSelector:d.itemsSelector,selectedItemCssClass:d.selectedItemCssClass,$input:$(d.input),$items:$(),$selectedItem:$()},f={config:d,state:e};b.data("updownKeys",f),a.reset(b),"function"==typeof d.onItemKeyEnter&&b.on("itemkeyenter",d.onItemKeyEnter),b.on("mouseenter",e.itemsSelector,function(){a.setSelectedItem(b,$(this))}),b.on("mouseleave",e.itemsSelector,function(){a.setSelectedItem(b,null)}),e.$input.on("keydown",function(c){var d,f=e.$items.index(e.$selectedItem);40!==c.which||c.altKey||(d=-1===f?e.$items.first():f===e.$items.length-1?$():e.$items.eq(e.$items.index(e.$selectedItem)+1),a.setSelectedItem(b,d),c.preventDefault()),38!==c.which||c.altKey||(d=-1===f?e.$items.last():0===f?$():e.$items.eq(e.$items.index(e.$selectedItem)-1),a.setSelectedItem(b,d),c.preventDefault()),27===c.which&&-1!==f&&a.setSelectedItem(b,null),10!==c.which&&13!==c.which||-1===f||(b.trigger("itemkeyenter",e.$selectedItem),c.preventDefault())}),e.$input.closest("form").on("keydown",function(a){var b=e.$items.index(e.$selectedItem);return 10!==a.which&&13!==a.which||-1===b?void 0:!1})}},$.fn.updownKeys=function(a){var b=$.updownKeys;return"getSelectedItem"===a?b.getSelectedItem(this.first()):(this.each(function(){var c=$(this);if("refresh"===a)b.reset(c);else{if("setSelectedItem"===a)return b.setSelectedItem(c,arguments[1]);b.init(c,a)}}),this)},mov.layout.header_notifications=function(){function a(){"undefined"!=typeof mov.storage&&(m=mov.storage["mov.layout.header_notifications"]),m&&(i=$(document.getElementById("hd-notifications")),j=$(document.getElementById("hd-notifications--label")),k=$(document.getElementById("hd-notifications--dropdown")),l=i.find(".js-partial-newsfeed-container"),j.click(function(a){p||d(),h(),a.preventDefault()}),c(),mov.helper.util.continuousFeed(function(){o||"none"===n||d()},l),mov.helper.touch.preventOuterScrolling(l[0]))}function b(a){$.get(mov.vars.baseUrl+"mospace/newsfeed/notification-count/",function(b){a(b.unread)})}function c(a){j.removeClass("highlighted"),"undefined"!=typeof a?j.text(a):b(function(a){j.text(a),a>0&&(j.addClass("swing animated highlighted"),setTimeout(function(){j.removeClass("swing animated")},1e3))})}function d(){if(!o){o=!0,p?mov.helper.overlay.apply(k,{type:"appended-loading"}):mov.helper.overlay.apply(k);var a=i.find(".js-notification-load-more").attr("data-before-id");a&&(n=a);var b={};n&&(b.before_date=n),e(b,function(a){var b=$(a);b.find(".js-notification-widgets").length>0&&(i.find(".js-notification-empty").hide(),i.find(".js-notification-widgets").append(b.find(".js-notification-widgets").children()),i.find(".js-not-notifications-wrapper").replaceWith(b.find(".js-not-notifications-wrapper")),c()),i.find(".js-notification-load-more").attr("data-before-id")===n&&(n="none"),mov.helper.overlay.clear(k),o=!1})}}function e(a,b){a.entity_id=m.entity_id,a.entity_type=m.entity_type,requestUrl="mospace/newsfeed/notifications",a.notification_id&&(requestUrl="mospace/newsfeed/notifications"),$.get(mov.vars.baseUrl+requestUrl,a,function(a){b(a)})}function f(){p||(k.addClass("active"),mov.helper.misc.attachClickAwayHandler(k,g,{handleEscKeypress:!0,handlerId:"hd-notifications",ignoreElement:j}),j.attr("aria-expanded","true"),p=!0)}function g(){p&&(k.removeClass("active"),mov.helper.misc.removeClickAwayHandler({handlerId:"hd-notifications"}),j.attr("aria-expanded","false"),c(0),p=!1)}function h(){p?g():f()}var i,j,k,l,m,n,o=!1,p=!1;return{init:a}}(),mov.layout.header_login=function(){function a(){"undefined"!=typeof mov.storage&&(A=mov.storage["mov.layout.header_login"],n=$(document.getElementById("hd-login-btn")),o=$(document.getElementById("hd-login-dropdown")),p=$(document.getElementById("hd-login-state_default--forgot-password")),q=$(document.getElementById("hd-login-state_default--login-btn")),r=$(document.getElementById("hd-login-state_forgot-password--login-btn")),s=$(document.getElementById("hd-login-state_default")),t=$(document.getElementById("hd-login-state_forgot-password")),u=$(document.getElementById("hd-login-state_default--email")),v=$(document.getElementById("hd-login-state_default--password")),w=$(document.getElementById("hd-login-state_forgot-password--email")),x=$(document.getElementById("hd-login-state_default--messages")),y=$(document.getElementById("hd-login-state_forgot-password--messages")),z=o.find(".js-facebook-login"),n.click(function(a){a.preventDefault(),d()}),u.on("keyup",k),p.on("click",function(a){a.preventDefault(),f()}),z.on("click",function(a){a.preventDefault(),c()}),s.on("submit",function(a){return a.preventDefault(),mov.helper.validate.isEmptyString(u.val())||mov.helper.validate.isEmptyString(v.val())?(x.text(A.translations["text-login-username-password-empty"]).slideDown(500),u.removeClass("valid").addClass("error"),v.removeClass("valid").addClass("error"),!1):void l()}),t.on("submit",function(a){return a.preventDefault(),mov.helper.validate.isEmptyString(w.val())?(y.text(A.translations["text-login-username-password-empty"]).slideDown(500),w.removeClass("valid").addClass("error"),!1):void m()}),u.on("blur",function(a){a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),setTimeout(function(){h()},500)}),v.on("blur",function(){i()}),w.on("blur",function(){j()}))}function b(){B||(o.addClass("active"),n.addClass("active"),mov.helper.misc.attachClickAwayHandler(o,c,{handleEscKeypress:!0,handlerId:"hd-login",ignoreElement:n}),n.attr("aria-expanded","true"),B=!0,mov.vars.client.isDesktop&&setTimeout(function(){u.focus()},400))}function c(){B&&(o.removeClass("active"),n.removeClass("active"),mov.helper.misc.removeClickAwayHandler({handlerId:"hd-login"}),n.attr("aria-expanded","false"),C&&(mov.helper.overlay.clear(mov.helper.stash.$body,{type:"faded"}),C=!1),B=!1,setTimeout(g,1e3))}function d(){B?c():b()}function e(a){C||(mov.helper.overlay.apply(mov.helper.stash.$body,{type:"faded"}),C=!0),a&&a.customRedirect&&(D=a.customRedirect),x.hide().show().text(A.translations["text-please-login-to-continue"]),b()}function f(){x.hide(),s.addClass("not-visible"),t.removeClass("not-visible")}function g(){s.removeClass("not-visible"),t.addClass("not-visible"),u.val("").removeClass("error").removeClass("valid"),v.val("").removeClass("error").removeClass("valid"),x.hide().text(""),y.hide().text(""),w.val("").removeClass("error").removeClass("valid"),D=!1}function h(){return mov.helper.validate.isEmptyString(u.val())||mov.helper.validate.isValidEmailAddress(u.val())===!1?(u.removeClass("valid").addClass("error"),!1):(u.removeClass("error").addClass("valid"),!0)}function i(){return mov.helper.validate.isEmptyString(v.val())?(v.removeClass("valid").addClass("error"),!1):(v.removeClass("error").addClass("valid"),!0)}function j(){return mov.helper.validate.isEmptyString(w.val())||mov.helper.validate.isValidEmailAddress(w.val())===!1?(w.removeClass("valid").addClass("error"),!1):(w.removeClass("error").addClass("valid"),!0)}function k(){w.val(u.val())}function l(){q.addClass("loading"),mov.helper.overlay.showGlobalLoading();var a={username:u.val(),password:v.val(),loginCheck:!0};mov.helper.api.post("auth",JSON.stringify(a),{done:function(a){return a.error?(mov.helper.overlay.hideGlobalLoading(),q.removeClass("loading"),!1):(u.removeClass("error").addClass("valid"),v.removeClass("error").addClass("valid"),x.hide(),window.location.href=D?D:mov.vars.baseUrl+"mospace",q.removeClass("loading"),void 0)},fail:function(a){if(!a.responseJSON.redirect){var b={memberbyemail:u.val()};return mov.helper.api.get("availability",b,{done:function(a){a.exists?1==a.locked?x.text(A.translations["text-login-account-locked"]).slideDown(500):0==a.locked&&x.text(A.translations["text-login-username-password-invalid"]).slideDown(500):x.text(A.translations["text-login-username-password-invalid"]).slideDown(500)},fail:function(){x.text(A.translations["text-login-username-password-invalid"]).slideDown(500)},always:function(){}}),mov.helper.overlay.hideGlobalLoading(),q.removeClass("loading"),u.removeClass("valid").addClass("error"),v.removeClass("valid").addClass("error"),!1}window.location.href=mov.vars.baseUrl+a.responseJSON.redirect},always:function(){}})}function m(){r.addClass("loading");var a={passwordreminder:w.val()};mov.helper.api.get("availability",a,{done:function(a){a.exists?(y.removeClass("alert-danger").addClass("alert-success").text(A.translations["text-campaign-password-reminder-success"]).slideDown(500),r.removeClass("loading"),w.removeClass("error").addClass("valid")):(y.removeClass("alert-success").addClass("alert-danger").text(A.translations["text-reset-password-email-invalid"]).slideDown(500),w.removeClass("valid").addClass("error")),r.removeClass("loading")},fail:function(){}})}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=!1,C=!1,D=!1;return{init:a,forceLogin:e}}(),mov.layout.header_languages=function(){function a(){return d=document.getElementById("hd-languages-switcher"),e=document.getElementById("hd-languages-switcher--close-btn"),d?(f=!0,mov.helper.dom.loop(d.getElementsByTagName("a"),function(){this.onclick=b}),e.onclick=function(){c(),b()},void setTimeout(function(){mov.helper.dom.addClass(d,"active"),mov.helper.broadcast.trigger("language-bar-showed")},2e3)):void(f=!1)}function b(){$.cookie("language-bar-is-disabled",!0,{expires:30,path:"/",domain:mov.vars.cookieDomain})}function c(){f&&(mov.helper.dom.removeClass(d,"active"),mov.helper.broadcast.trigger("language-bar-hidden"),f=!1)}var d,e,f;return{init:a}}(),mov.layout.siteNav=function(){function a(){j=mov.helper.stash.$siteNav,k=$(document.getElementById("hd-site-nav--inner")),l=j.find(".site-nav--menu-button_lv-1"),m=j.find(".site-nav--menu_lv-1"),$siteNav_firstLevelMenuItems=j.find(".site-nav--menu-item_lv-1"),n=j.find(".site-nav--menu_lv-2"),o=j.find(".site-nav--menu-link"),p=j.find(".site-nav--menu-back-btn"),l.click(function(){var c=this.nextSibling;return b(mov.helper.dom.hasClass(c,"active")&&!a?null:c),!1}),p.click(function(a){b(null),a.preventDefault()});var a=!1;if(mov.vars.client.isDesktop&&$siteNav_firstLevelMenuItems.hover(function(){if("xs"!==mov.vars.currentMediaQuery&&"sm"!==mov.vars.currentMediaQuery){var c=(this.firstElementChild||this.firstChild).nextSibling;c&&(b(c),a=!0,mov.helper.dom.addClass(c,"delayed-visibility"))}},function(){"xs"!==mov.vars.currentMediaQuery&&"sm"!==mov.vars.currentMediaQuery&&(b(null),a=!1)}),mov.helper.touch.onSwipe(j,{leftToRight:function(){return"md"!==mov.vars.currentMediaQuery&&"lg"!==mov.vars.currentMediaQuery?null!==r?void b(null):void e():void 0}}),h(),mov.helper.touch.preventOuterScrolling(k[0]),j.click(function(){if("xs"===mov.vars.currentMediaQuery||"sm"===mov.vars.currentMediaQuery){if(null===r)return;b(null)}}),n.click(function(a){a.stopPropagation()}),mov.vars.client.isPortable){var c=document.getElementById("site-nav--menu-link_full-site"),d=document.getElementById("site-nav--menu-link_mobile-site");c&&(c.onclick=function(){$('<form action="" method="post"><input type="hidden" name="forceDesktopViewport" value="1"></input></form>').appendTo("body").submit()}),d&&(d.onclick=function(){$('<form action="" method="post"><input type="hidden" name="forceDesktopViewport" value="0"></input></form>').appendTo("body").submit()})}}function b(a){null===a?(null===r?e():(c(null),r.removeClass("active delayed-visibility"),r=null,j.removeClass("lv-2-menu-active")),mov.helper.misc.removeClickAwayHandler({handlerId:"site-nav--second-level-menu"})):(d(),null===r?j.addClass("lv-2-menu-active"):(r.removeClass("active"),c(null)),r=$(a).addClass("active"),c(r[0].previousSibling),mov.vars.client.isDesktop||mov.helper.misc.attachClickAwayHandler(a.parentNode,function(){null!==r&&b(null)},{handleEscKeypress:!0,handlerId:"site-nav--second-level-menu",ignoreElement:j}))}function c(a){null===a&&s?(mov.helper.dom.removeClass(s,"active"),s.setAttribute("aria-expanded","false"),s=null):a&&(s=a,mov.helper.dom.addClass(s,"active"),s.setAttribute("aria-expanded","true"))}function d(){t||(j.addClass("active"),t=!0,mov.helper.broadcast.trigger("side-site-nav-showed"),mov.helper.misc.attachClickAwayHandler(j,g,{handleEscKeypress:!0,handlerId:"site-nav",ignoreElement:document.getElementById("hd-popup-btn_site-nav")}),mov.helper.misc.forceElementFocus(document.getElementById("hd-site-nav")))}function e(){t&&(j.removeClass("active"),null!==r&&(r.removeClass("active"),j.removeClass("lv-2-menu-active")),c(null),t=!1,r=null,mov.helper.broadcast.trigger("side-site-nav-hidden"),mov.helper.misc.removeClickAwayHandler({handlerId:"site-nav"}),mov.helper.misc.removeClickAwayHandler({handlerId:"site-nav--second-level-menu"}))}function f(){t?e():d()}function g(){t&&("xs"===mov.vars.currentMediaQuery||"sm"===mov.vars.currentMediaQuery)&&e()}function h(){q=mov.vars.currentMediaQuery,j.addClass("sm"===q||"xs"===q?"xs-sm":"md-lg"),mov.helper.broadcast.on("window-resized",function(){"sm"!==q&&"xs"!==q||"md"!==mov.vars.currentMediaQuery&&"lg"!==mov.vars.currentMediaQuery?"md"!==q&&"lg"!==q||"sm"!==mov.vars.currentMediaQuery&&"xs"!==mov.vars.currentMediaQuery||i("xs-sm"):i("md-lg"),q=mov.vars.currentMediaQuery})}function i(a){j.addClass("transitioning"),j[0].offsetWidth,j.addClass(a).removeClass("md-lg"===a?"xs-sm":"md-lg"),setTimeout(function(){j.removeClass("transitioning")},800)}var j,k,l,m,n,o,p,q,r=null,s=null,t=!1;return{init:a,showSiteNav:d,hideSiteNav:e,toggleSiteNavVisibility:f}}(),mov.layout.footer=function(){function a(){f=$(document.getElementById("site-fat-footer-container")),g=f.find(".js-sliding-footer"),h=mov.helper.stash.$footer.find(".js-sliding-footer-handle"),i=f.find("a"),mov.helper.stash.$footer.find(".js-footer-popup-handle").on("click",mov.layout.footer.showFatFooter),h.on("click",mov.layout.footer.hideFatFooter),e()}function b(){if(!j){j=!0;var a=g.outerHeight()+h.outerHeight();f.stop().animate({height:a},{duration:350}),f.toggleClass("open",!0),mov.helper.stash.$footer.find(".js-footer-popup-handle").hide(),"xs"===mov.vars.currentMediaQuery&&jQuery("body,html").animate({scrollTop:f.offset().top},500)}}function c(){j&&(j=!1,f.stop().animate({height:0},{duration:350,complete:function(){mov.helper.stash.$footer.find(".js-footer-popup-handle").show()}}),f.toggleClass("open",!1))}function d(){return j}function e(){i.bind("focus",b),i.bind("blur",function(){setTimeout(function(){f.find(document.activeElement).size()||c()},0)})}var f,g,h,i,j=!1;return{init:a,showFatFooter:b,hideFatFooter:c,isFatFooterVisible:d}}(),mov.widget.SimpleImageSlider=function(){function a(a){e=document.getElementById(a),imagesJSON=JSON.parse(e.getAttribute("data-init-images")),h="true"===e.getAttribute("data-is-inside-modal");for(var b='<div id="'+a+'--carousel" class="carousel slide'+(h?" carousel_is-inside-modal":"")+'" data-ride="carousel"><div id="'+a+'--carousel-inner" class="carousel-inner" role="listbox">',c=0;c<imagesJSON.length;c++)b+='<div class="item'+(0===c?" active":"")+'"><img src="'+imagesJSON[c].src+'" srcset="'+imagesJSON[c].srcset+'" alt=""></div>';imagesJSON.length>1&&(b+='<span class="left carousel-control fa fa-chevron-left" data-slide="prev" data-target="#'+a+'--carousel"></span><span class="right carousel-control fa fa-chevron-right" data-slide="next" data-target="#'+a+'--carousel"></span>'),b+="</div>",e.innerHTML=b,f=$(document.getElementById(a+"--carousel")),g=$(document.getElementById(a+"--carousel-inner")),f.carousel({interval:!1}).on("slide.bs.carousel",function(a){if(h){if(i)return!1;if(mov.vars.client.isLtie10)return;var b=mov.helper.dom.selectByClass("active",a.target)[0].getElementsByTagName("img")[0],c=b.offsetWidth,d=b.offsetHeight;if(!c||!d)return;var e=f[0];e.style.maxWidth=c+"px",e.style.maxHeight=d+"px",e.style.minWidth=c+"px",e.style.minHeight=d+"px",setTimeout(function(){i=!0,mov.helper.dom.addClass(e,"carousel_is-transitioning"),e.offsetWidth,e.style.maxWidth=window.innerWidth+"px",e.style.maxHeight=window.innerHeight+"px",e.style.minWidth="0px",e.style.minHeight="0px",setTimeout(function(){mov.helper.dom.removeClass(e,"carousel_is-transitioning"),e.offsetWidth,e.style.maxWidth="",e.style.maxHeight="",e.style.minWidth="",e.style.minHeight="",i=!1},600)},610)}});var d=!1;mov.helper.touch.onSwipe(f,{rightToLeft:function(){d||(d=!0,f.carousel("next"),setTimeout(function(){d=!1},1400))},leftToRight:function(){d||(d=!0,f.carousel("prev"),setTimeout(function(){d=!1},1400))}})}function b(a,b){var c=$('<div class="item"><img src="'+a.src+'" srcset="'+a.srcset+'" alt=""></div>');0===g.find(".item").size()&&(c.addClass("active"),b=0),0===b?g.prepend(c):b>0?g.find(".item").eq(b).after(c):g.find(".item").last().after(c)}function c(a){var b=g.find("img").filter('[src="'+a+'"]').parent();return 0===b.size()?void mov._warn("removeSlide: can not find an image with "+a):(b.hasClass("active")&&(b.removeClass("active"),g.children().first().addClass("active")),void b.remove())}function d(a){var b=g.find(".item").eq(a),c=b.find("img");b.hasClass("lazy")&&(b.removeClass("lazy"),c.attr("src",c.data("src")).attr("srcset",c.data("srcset")).removeAttr("data-src").removeAttr("data-srcset")),f.carousel(a)}var e,f,g,h=!1,i=!1;return function(){return{build:a,appendNewSlide:b,removeSlide:c,skipToSlide:d}}}(),mov.widget.herotileCarousel=function(){function a(a,d,e){if(!w){h=$(document.getElementById("bd_home-splash")),i=h.find(".splash-tile"),j=i.filter(".active"),k=$(document.getElementById("splash-control-buttons-play"));var f=document.createElement("script"),l=document.getElementsByTagName("script")[0];f.src="https://www.youtube.com/iframe_api",l.parentNode.insertBefore(f,l),e&&(v=!0);var n=!1;o=h.find(".splash-tile").length;var p=null,q=!0;d?p=b(d):a?p="xs"===mov.vars.currentMediaQuery?1:0:(p=1,q=!1),e||(p=0,q=!1,n=!0,u=0);for(var r=0;o>r;r++){var s=r,x="";v&&0==r?(s="i",x="info",t=1e4,$("#splash-control-links").append('<li class="'+x+' hidden-xs"><a href="javascript:mov.widget.herotileCarousel.tilesSkip('+r+',true)"><span></span></a></li>')):(s=v?r:r+1,$("#splash-control-links").append('<li class="'+x+'"><a href="javascript:mov.widget.herotileCarousel.tilesSkip('+r+',true)"><span>'+s+"</span></a></li>"))}c(p,q,n),v&&g();var y=!1;mov.helper.touch.onSwipe(h,{rightToLeft:function(){y||(y=!0,h.addClass("slide-effect left-to-right"),m+1===o?v?c(1,!0):c(0,!0):c(m+1,!0),setTimeout(function(){h.removeClass("slide-effect left-to-right"),y=!1},1100))},leftToRight:function(){y||(y=!0,h.addClass("slide-effect right-to-left"),0===m||1===m&&v?c(o-1,!0):c(m-1,!0),setTimeout(function(){h.removeClass("slide-effect right-to-left"),y=!1},1100))}}),w=!0}}function b(a){var b=null;return h.find(".splash-tile").each(function(c){$(this).find(".hero-tile-container").attr("data-identifier")==a&&(b=c)}),b}function c(a,b,c){var d=null;$("#tile-ytplayer-overlay").hide(),$("#tile-ytplayer").addClass("hide-ytplayer"),void 0!=l&&(l.destroy(),l=null,$("#tile-ytplayer").addClass("hide-ytplayer"),k.removeClass("launched"),h.removeClass("youtube-video-launched")),m>=0&&(j=i.eq(m),j.removeClass("active")),"undefined"!=typeof c&&c?d=a:1!=b?d=m+1:(d=a,clearTimeout(n)),d>=o&&(d=u),j=i.eq(d),j.addClass("active"),$("#splash-control-links").find("a").removeClass("active"),nextLink=$("#splash-control-links").find("a").get(d),$(nextLink).addClass("active");var e=j.find("img").attr("data-youtube-id");if(e){q=e;var f=j.find("img");$(f).addClass("youtube"),$("#tile-ytplayer-overlay").attr("data-source-tile-id",d),q&&$("#tile-ytplayer-overlay").attr("data-video-url","https://www.youtube.com/embed/"+q+"&wmode=transparent"),$("#tile-ytplayer-overlay").show(),k.removeClass("disabled"),$("#splash-control-buttons-mute").removeClass("disabled"),$("#splash-control-buttons-youtube a").css("cursor","pointer"),k.parent().attr("href","javascript:mov.widget.herotileCarousel.tilePlay();"),$("#splash-control-buttons-mute").parent().attr("href","javascript:mov.widget.herotileCarousel.mute();")}else k.addClass("disabled"),$("#splash-control-buttons-mute").addClass("disabled"),$("#splash-control-buttons-youtube a").css("cursor","default"),k.parent().attr("href","javascript:return false;"),$("#splash-control-buttons-mute").parent().attr("href","javascript:return false;");m=d,j.find(".hero-tile-container").attr("data-delay")?t=j.find(".hero-tile-container").attr("data-delay"):void 0==a&&(t=s),1!=b&&(clearInterval(n),n=setInterval("mov.widget.herotileCarousel.tilesSkip()",t))}function d(){return k.hasClass("disabled")?void 0:null===l||"undefined"==typeof l?(f(q),k.addClass("launched").removeClass("paused"),h.addClass("youtube-video-launched"),void(r=q)):void(2===l.getPlayerState()?(l.playVideo(),k.removeClass("paused").addClass("launched"),h.addClass("youtube-video-launched")):1===l.getPlayerState()?(l.pauseVideo(),k.addClass("paused").removeClass("launched"),h.removeClass("youtube-video-launched")):(f(q),k.addClass("launched").removeClass("paused"),h.addClass("youtube-video-launched"),r=q))}function e(){if("undefined"!=typeof l){var a=$("#splash-control-buttons-mute");l.isMuted()?(l.unMute(),a.removeClass("muted")):(l.mute(),a.addClass("muted"))}}function f(a){$("#tile-ytplayer-overlay").css("display","none"),clearTimeout(n),j=i.eq(m),j.removeClass("active"),$("#tile-ytplayer").removeClass("hide-ytplayer"),l=new YT.Player("tile-ytplayer",{height:"100%",width:"100%",playerVars:{autoplay:1,showinfo:0,controls:0,wmode:"transparent"},videoId:a}),mov.site.googleAnalytics.trackPageview("/homepage-video/"+a)}function g(){var a=$(".firsttime-slide_map"),b=367;$("#firsttime-slide_image-map area").on("mouseenter",function(){$("#"+$(this).data("text-id")).addClass("active"),a.css("background-position","0 "+-(b*$(this).data("multiplier"))+"px")}).on("mouseleave",function(){$("#"+$(this).data("text-id")).removeClass("active"),a.css("background-position","")})}var h,i,j,k,l,m=0,n=null,o=null,p=!1,q=null,r=null,s=7e3,t=s,u=1,v=!1,w=!1;return window.onytplayerStateChange=function(a){0==a&&(k.removeClass("launched"),h.removeClass("youtube-video-launched"))},window.onYouTubePlayerReady=function(){l.addEventListener("onStateChange","onytplayerStateChange"),p=!0},{init:a,tilesSkip:c,tilePlay:d,mute:e,firstPageSlide:g}}(),mov.widget.shareWidgets=function(){function a(){mov.helper.broadcast.on("fb-init",function(){FB.Event.subscribe("edge.create",c),FB.Event.subscribe("edge.remove",d)}),mov.helper.misc.requireScript("https://platform.twitter.com/widgets.js",{onLoaded:function(){twttr.ready(function(a){a.events.bind("tweet",b)})},isExternal:!0})}function b(a){var b=a.target.parentNode.parentNode,c={};if(b.hasAttribute("data-href")){var d={url:b.getAttribute("data-href"),id:b.getAttribute("data-id"),model:b.getAttribute("data-model"),type:"add"};c={"source-url":d.url},f(d)}"undefined"!=typeof mov.site.kissMetrics&&mov.site.kissMetrics.trackEventAction("social media share",$.extend({},{"social media share":"twitter"},c))}function c(a,b){e(a,b,"add")}function d(a,b){e(a,b,"subtract")}function e(a,b,c){var d=b.parentNode.parentNode,e={};if(d.hasAttribute("data-href")){var g={url:d.getAttribute("data-href"),id:d.getAttribute("data-id"),model:d.getAttribute("data-model"),type:c};e={"source-url":g.url},f(g)}"undefined"!=typeof mov.site.kissMetrics&&"add"===c&&mov.site.kissMetrics.trackEventAction("social media share",$.extend({},{"social media share":"facebook"},e))}function f(a){var b,c=$("#js-total-shares-"+a.id);$.postJSON("/api/v14/social-media",a,function(a){return a?(mov._debug(a),void(1==a.result&&(b=a.total>0?a.formatted:0,$(c).text(b)))):!1},"json")}return{init:a}}(),mov.widget.socialLightbox=function(){function a(){c(),d()}function b(a,b){var d="mospace/social/"+a+"/network/"+b;d=mov.helper.util.isSecure()?sBaseUrl+d:this.getLanguageCode()+"/"+d,"say-thanks"==a&&arguments[2]&&(mov.mospace.donationId=arguments[2].toString(),d=d+"/donation/"+mov.mospace.donationId),"past-campaigns"==a&&arguments[2]&&(mov.mospace.donorName=arguments[2].toString(),d=d+"/donor/"+mov.mospace.donorName),
"share-event"==a&&arguments[2]&&(d=d+"/event/"+arguments[2].toString()),"share-poster"==a&&arguments[2]&&(d=d+"/poster/"+arguments[2].toString()),mov.helper.modal.loadUrl(d,{onSuccess:function(){c(),x="undefined"!=typeof mov.mospace&&mov.mospace.donationId?mov.mospace.donationId:null,y="undefined"!=typeof mov.mospace&&mov.mospace.donorName?mov.mospace.donorName:null},onHidden:function(){B={},u={}}})}function c(){t=$(".textbox-container-social").find("textarea"),s=$(".social-dialog"),s.length&&(w=f(),z=g(),$("a.js-social-preset").click(function(){var a=$(this);if(1==v){var b=g(),c=h();B.hasOwnProperty(b)||(B[b]={}),B[b][c]=t.val()}$("a.js-social-preset.active").removeClass("active").parent().removeClass("active"),a.addClass("active").parent().addClass("active"),A=a.attr("data-content-id"),mov.helper.overlay.apply($(".js-textbox-container-social")),setTimeout(function(){i(),mov.helper.overlay.clear($(".js-textbox-container-social"))},300),v=!1,"object"==typeof mov.admin&&"object"==typeof mov.admin.social&&mov.admin.social.updateSamuraiId()}),$(".social-dialog .chiclet a").click(function(){z=$(this).attr("data-share-id"),d(z)}),t.bind("input propertychange",function(){v=!0}),$("a.js-post-facebook").click(function(){l()}),$("a.js-post-twitter").click(function(){p()}),$("a.js-open-in-outlook").click(function(a){function b(){r($(this))}a.preventDefault(),"undefined"!=typeof mov.site.kissMetrics&&mov.site.kissMetrics.trackEventAction("social media share",{"social media share":"email"}),setTimeout(b,500)}),$(".js-social-presets li a.active:first").click())}function d(a){if(a!=g()){var b=s;mov.helper.overlay.apply(b);var d={};if(1==v){var i=g(),k=h();B.hasOwnProperty(i)||(B[i]={}),B[i][k]=t.val(),v=!1}if(d.hasOwnProperty(a)&&x&&!x.length){d=d[a];var l=$(d);l.replaceAll(b),c(),e(),mov.helper.overlay.clear(b)}else{var m=mov.vars.baseUrl+"mospace/social/"+f()+"/network/"+a;x&&x.length&&(m=m+"/donation/"+x),b.data("entity-label")&&(m=m+"/"+b.data("entity-label")+"/"+b.data("entity-id"));var n=$.get(m);n.done(function(f){d[a]=f;var g=$(f);g.replaceAll(b),c(),e(),j()&&t.text(j()),mov.helper.overlay.clear(b)}),n.fail(function(){mov.helper.overlay.clear(b)})}}}function e(){"object"==typeof SamuraiCms&&SamuraiCms.init()}function f(){return $(".social-dialog").attr("data-action")}function g(){return $(".social-dialog").attr("data-network")}function h(){return $(".js-social-presets a.active:first").attr("data-content-id")}function i(){var a="";a=j()?j():k(),t.length&&t.val(a)}function j(){var a=g(),b=h();return B.hasOwnProperty(a)&&B[a].hasOwnProperty(b)?B[a][b]:!1}function k(){var a="";return $("span.js-preset-copy").each(function(){var b=$(this);b.attr("preset-id")==A&&(a=$.trim(b.text()))}),"object"==typeof mov.admin&&"object"==typeof mov.admin.social&&mov.admin.social.updateSamuraiContainer(),a}function l(){m(function(){mov.helper.modal.closeCurrent();var a={caption:t.val()},b=s.attr("data-social-link");"undefined"!=typeof b&&(a.link=b);var c=s.attr("data-social-picture");"undefined"!=typeof c&&(a.picture=c);var d=s.attr("data-event-name");"undefined"!=typeof d&&(a.event_name=d),o(a)})}function m(a){return D?"function"==typeof a?a.call():!0:void FB.login(function(b){return b.authResponse?(D=!0,$("#mospace-post-attachment ul").removeClass("no-facebook"),E||n(),"function"!=typeof a?!0:void a.call()):!1},{scope:"email,user_friends"})}function n(){D&&$.ajax({url:mov.vars.baseUrl+"mospace/dashboard/ajax-update-facebook-id",success:function(a){a.success},error:function(a){a.error}})}function o(a){var b={method:"feed",name:mov.entity.member.getFullName()};a.hasOwnProperty("picture")||(a.picture="http:"+mov.entity.member.getProfilePicture("hero")),a.hasOwnProperty("link")||"undefined"==typeof mov.dashboard||(a.link=mov.dashboard.getMospaceUrl()),a.hasOwnProperty("copy")||(a.copy=null),a.hasOwnProperty("event_name")&&(b.name=a.event_name),$.extend(a,b),FB.ui({method:a.method,name:a.name,link:a.link,picture:a.picture,caption:a.copy,description:a.caption},function(a){"undefined"!=typeof mov.site.kissMetrics&&mov.site.kissMetrics.trackEventAction("social media share",{"social media share":"facebook"}),"undefined"!=typeof a&&1==C&&recordUsageStatistics(a)})}function p(){var a=q();"join-my-team"==f()&&(a=mov.entity.member.getTeamUrl()),a="";var b=encodeURIComponent(t.val());window.open("http://twitter.com/share?url="+a+"&text="+b+"&","twitterwindow","height=450, width=550, top="+($(window).height()/2-225)+", left="+$(window).width()/2+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"),mov.helper.modal.closeCurrent()}function q(){var a=mov.entity.member.getId();return a&&a.length?mov.vars.baseUrl+"mospace/"+a:mov.vars.baseUrl+"mospace/"}function r(a){var b=t.val(),c=a.attr("href");(c&&"undefined"!=typeof c||(c=$("a.js-open-in-outlook").attr("href"),c&&"undefined"!=typeof c))&&(b=b.replace(new RegExp("\r?\n","g"),"%0D%0A"),c=c+"&body="+b,mov.helper.modal.closeCurrent(),window.location.href=c)}var s=$(),t=$(),u={},v=!1,w=null,x=null,y=null,z=null,A=null,B={},C=!1,D=!1,E=null;return{init:a,launch:b}}(),mov.widget.socialLightbox.init(),mov.widget.templateWidgets=function(){function a(){b(),c(),d()}function b(){function a(){c.on("mouseenter",function(){$(this).addClass("active")}).on("mouseleave",function(){$(this).removeClass("active")})}function b(){c.on("click",function(a){a.stopPropagation();var b=$(this);b.toggleClass("active"),mov.helper.misc.attachClickAwayHandler(b,function(){b.removeClass("active")})})}var c=mov.helper.stash.$content.find(".template-widget-share-box");0!==c.length&&(mov.vars.client.isDesktop?a():b())}function c(){var a=mov.helper.stash.$content.find(".js-template-widget-collapse");0!==a.length&&a.find(".js-template-widget-collapse--link").click(function(){return $(this).next(".js-template-widget-collapse--content").slideToggle(),!1})}function d(){function a(){c.on("mouseenter",function(){var a=$(this);a.addClass("active"),a.find(d).addClass("active"),a.find(e).addClass("inactive")}).on("mouseleave",function(){var a=$(this);a.removeClass("active"),a.find(d).removeClass("active"),a.find(e).removeClass("inactive")})}function b(){e.on("click",function(a){a.preventDefault();var b=$(this);b.parent().parent().toggleClass("active"),b.parent().parent().find(d).toggleClass("active"),b.toggleClass("fa-chevron-down")})}var c=mov.helper.stash.$content.find(".template-widget-cta-tile");if(0!==c.length){var d=c.find(".template-widget-cta-tile--js-text-overlay"),e=c.find(".template-widget-cta-tile--js-icon");mov.vars.client.isDesktop?a():b()}}return{init:a}}(),mov.site.global.init();